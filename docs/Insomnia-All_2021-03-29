{"_type":"export","__export_format":4,"__export_date":"2021-03-29T05:36:47.287Z","__export_source":"insomnia.desktop.app:v2021.1.1","resources":[{"_id":"req_7f08b17faca8406eb58adf312f4d9213","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1611300383346,"created":1610539073880,"url":"http://10.0.5.241:30566/contabil/api/contabil-rest-reinf-gerador/actuator/health","name":"My Request","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Host","value":"wscontabil.hom.mateus","description":"","id":"pair_0e1a6d8356ad4bc69fe2ad00cecbd6ec"}],"authentication":{},"metaSortKey":-1610539073880,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","parentId":null,"modified":1615658924115,"created":1605578022573,"name":"Main Workspace","description":"","scope":"collection","_type":"workspace"},{"_id":"req_b673a53295354d8c94eeb9ee5d1795db","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1611300380167,"created":1611300360558,"url":"http://10.0.5.241:30566/api/prometeu/v1/health","name":"My Request","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Host","value":"wschatbot.hom.mateus","description":"","id":"pair_0e1a6d8356ad4bc69fe2ad00cecbd6ec"}],"authentication":{},"metaSortKey":-1610504686258.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_2053c10fc0c94393adc84e134e7c63cc","parentId":"fld_3e008e25775642a0afee1934766170e7","modified":1615658945855,"created":1615658945855,"url":"http://localhost:8080/git","name":"Get All Gits","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1610856200111.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_3e008e25775642a0afee1934766170e7","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1615658961789,"created":1615658945852,"name":"/gits","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1000000000.390625,"_type":"request_group"},{"_id":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","parentId":null,"modified":1615658934194,"created":1615658934194,"name":"Devops Rest Services Manager","description":"","scope":"collection","_type":"workspace"},{"_id":"req_a86610412ae54d4dba6bbd316e994439","parentId":"fld_3e008e25775642a0afee1934766170e7","modified":1615658945858,"created":1615658945858,"url":"http://localhost:8080/git","name":"Create Git","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"Git Dev\",\n  \"descricao\": \"Git de Desenvolvimento\",\n  \"url\": \"https://gitlab.mateus\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_45de6a234eff4be8a12ca10e7dd5233a"}],"authentication":{},"metaSortKey":-1610856200161.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_6eccd22ef09b4851b8a31de4305b4395","parentId":"fld_3e008e25775642a0afee1934766170e7","modified":1615658945860,"created":1615658945860,"url":"http://localhost:8080/git/7","name":"Update Git","description":"","method":"PUT","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"sei nao\",\n  \"ativo\": false,\n  \"url\": \"http://gitlab.mateus\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_45de6a234eff4be8a12ca10e7dd5233a"}],"authentication":{},"metaSortKey":-1610856200136.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b37793ffdf2e4bd797f5933853eb4e7a","parentId":"fld_3e008e25775642a0afee1934766170e7","modified":1615658945863,"created":1615658945863,"url":"http://localhost:8080/git/1","name":"Delete Git","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1610856200124,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_218d00b674ea48468f24583178b14821","parentId":"fld_897a943bc6aa44079a1b7c94a1698fbd","modified":1616016608887,"created":1615658945869,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/jenkins","name":"Get All Jenkins","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1610856200111.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_897a943bc6aa44079a1b7c94a1698fbd","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1615658958876,"created":1615658945867,"name":"/jenkins","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1000000001.5625,"_type":"request_group"},{"_id":"req_954c2f3876f54f9bad0caf12b88b65d4","parentId":"fld_897a943bc6aa44079a1b7c94a1698fbd","modified":1616020478428,"created":1615658945873,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/jenkins","name":"Create Jenkins","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"Jenkins Producao 3\",\n  \"descricao\": \"Jenkins de Producao\",\n  \"url\": \"https://jenkins.k8s.mateus 8\",\n  \"ambienteId\": 1\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_45de6a234eff4be8a12ca10e7dd5233a"}],"authentication":{},"metaSortKey":-1610856200161.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_634d82b727d84a3698899fcdc69cf99a","parentId":"fld_897a943bc6aa44079a1b7c94a1698fbd","modified":1616017733004,"created":1615658945876,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/jenkins","name":"Update Jenkins","description":"","method":"PUT","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"sei nao\",\n  \"ativo\": false,\n  \"url\": \"http://gitlab.mateus\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_45de6a234eff4be8a12ca10e7dd5233a"}],"authentication":{},"metaSortKey":-1610856200136.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_5fb94c727997442d91913f733e52988c","parentId":"fld_897a943bc6aa44079a1b7c94a1698fbd","modified":1616021199423,"created":1615658945880,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/jenkins/18","name":"Delete Jenkins","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1610856200124,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_987bbc6a644a4274bc26135a3fc7dd84","parentId":"fld_72c30c9d63624d51a96c71ec8f6a444a","modified":1616048727571,"created":1615658945886,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/projetos","name":"Get All Projects","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1614404235580,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_72c30c9d63624d51a96c71ec8f6a444a","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1616049319166,"created":1615658945884,"name":"/projetos","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1000000006.25,"_type":"request_group"},{"_id":"req_9e15bdae01a04cceb0004c4695a667f8","parentId":"fld_72c30c9d63624d51a96c71ec8f6a444a","modified":1616187529878,"created":1615658945889,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/projetos","name":"Create Project","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"devops-rest-foo-i\",\n  \"squadId\": 1\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_d59910d9dd674b9d814ab4e0d8aee851"}],"authentication":{},"metaSortKey":-1613954769120,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_4e124351c18b46fc9efa36bd70d6602c","parentId":"fld_72c30c9d63624d51a96c71ec8f6a444a","modified":1616050649968,"created":1616050459613,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/projetos/83","name":"Delete Project","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1614179502350,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_5392f42a88bc4db3963446c215d1b86f","parentId":"fld_d6b58e5c601e44c9902b483907ff7930","modified":1616010087344,"created":1615658945894,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/squads","name":"Get All Squads","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616010082475,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_d6b58e5c601e44c9902b483907ff7930","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1615658956787,"created":1615658945892,"name":"/squads","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1000000003.125,"_type":"request_group"},{"_id":"req_6b7b5da6e64543fa99c5abf2bd319edb","parentId":"fld_d6b58e5c601e44c9902b483907ff7930","modified":1616071937412,"created":1615658945897,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/squads/","name":"Create Squad","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"devops\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_56afb274ea3e449e8f3d93e342582089"}],"authentication":{},"metaSortKey":-1615658849874,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_52ef2b2bdb5e4a9f8a72a6378d8ea770","parentId":"fld_d6b58e5c601e44c9902b483907ff7930","modified":1616048582173,"created":1616010082425,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/squads/20","name":"Get Squad","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616010082425,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_280e5e665d7e42318e88f57219466d8d","parentId":"fld_d6b58e5c601e44c9902b483907ff7930","modified":1616047384256,"created":1616010530303,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/squads/24","name":"Delete Squad","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616010082450,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_141804688f6b4f639b3286e7acf3d922","parentId":"fld_d6b58e5c601e44c9902b483907ff7930","modified":1616072448708,"created":1616051325567,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/squads/17/projetos","name":"Get Projects of Squad","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616010082462.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_462536f72bc54ad296cdf6260f4af69a","parentId":"fld_d75a0648e6e04477a7eed499fd6f6953","modified":1615981586863,"created":1615660474488,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/ambientes","name":"Get All Ambientes","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1615660474563,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_d75a0648e6e04477a7eed499fd6f6953","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1615658953888,"created":1615658945902,"name":"/ambiente","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1000000012.5,"_type":"request_group"},{"_id":"req_96b5ab92a3454d3b82f197c01d626e06","parentId":"fld_d75a0648e6e04477a7eed499fd6f6953","modified":1615991648901,"created":1615664353364,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/ambientes","name":"Create Ambiente","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"nome\": \"teste-ambiente-7\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_4fd56679f31d455092aa2cd2fe469170"}],"authentication":{},"metaSortKey":-1615664353365,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b731878c07a94ee9bce28f1faf23b1fc","parentId":"fld_d75a0648e6e04477a7eed499fd6f6953","modified":1615983474590,"created":1615981795389,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/ambientes/2","name":"Get Ambiente","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1615981795389,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_fb181aa38c1848ff95147112d7f8cbcc","parentId":"fld_d75a0648e6e04477a7eed499fd6f6953","modified":1616009981545,"created":1615992084209,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/ambientes/12","name":"Delete Ambiente","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1615662413964,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_fcec9e9d4b394645910220306f33f416","parentId":"fld_d9d8a76c247b4cd4ac717414bb670e0b","modified":1616021726805,"created":1616021719317,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/jobs","name":"Get All Jobs","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616021719317,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_d9d8a76c247b4cd4ac717414bb670e0b","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1615658951221,"created":1615658945908,"name":"/jobs","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1000000050,"_type":"request_group"},{"_id":"req_f4364caf72854f60815184cea0393d92","parentId":"fld_e92cde88e10648dd818367bc5702f44b","modified":1616030092900,"created":1616030085670,"url":"http://localhost:8080/devops/api/devops-rest-services-manager/actuator/health","name":"Get Healthcheck","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616030085743,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_e92cde88e10648dd818367bc5702f44b","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1616029987410,"created":1616029987410,"name":"/actuator/health","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1616029987410,"_type":"request_group"},{"_id":"req_f4296aea8b2d4de88202931995464edf","parentId":"fld_f90a49e465674331b276501060a33900","modified":1616795085674,"created":1616794383180,"url":"http://{{dns}}/admin/auth/change-password","name":"Change Password","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"currentPassword\": \"senha@123\",\n\t\"newPassword\": \"senha@123\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_079a5e5a330542d5ae748b828d5fb45a"},{"name":"Authorization","value":"Bearer {{waproject_authToken}}","id":"pair_6ce2423dac614b32b689d665bc98e4a4"}],"authentication":{},"metaSortKey":-1616794153121.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_f90a49e465674331b276501060a33900","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616794153134,"created":1616794153134,"name":"Auth","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1616794153134,"_type":"request_group"},{"_id":"wrk_483fc50db6014661b17fc1c3a3a83fcf","parentId":null,"modified":1616794145358,"created":1616794145358,"name":"Wa Project","description":"","scope":"collection","_type":"workspace"},{"_id":"req_92b582763c334bbea5021ac7dec8a7e7","parentId":"fld_f90a49e465674331b276501060a33900","modified":1616795047715,"created":1616794431026,"url":"http://{{dns}}/admin/auth/reset-password","name":"Reset Password","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"token\": \"\",\n\t\"password\": \"senha@123\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_fd75fde897264232b7cc00db9e585192"},{"name":"Authorization","value":"Bearer {{waproject_authToken}}","id":"pair_3e067062fad34c9fb43778aecf2cb336"}],"authentication":{},"metaSortKey":-1616794431026,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_c7c241b4f66b42389e6ebdf4425f207c","parentId":"fld_f90a49e465674331b276501060a33900","modified":1616795043525,"created":1616794450414,"url":"http://{{dns}}/admin/auth/send-reset","name":"Send Reset Token","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"email\": \"sysAdmin@waproject.com\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_e9953423fb444f0f8a4b439dde7b651d"},{"name":"Authorization","value":"Bearer {{waproject_authToken}}","id":"pair_d9cef4904f9541f4b984ebb67b95f1e5"}],"authentication":{},"metaSortKey":-1616794450414,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_97832775ead747519f57284c133fc71e","parentId":"fld_f90a49e465674331b276501060a33900","modified":1616797111342,"created":1616794467290,"url":"http://{{dns}}/admin/auth/login","name":"Login","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"email\": \"admin@waproject.com.br\",\n\t\"password\": \"senha@123\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_169b34ece59949988ddfa21085c3084b"},{"name":"Authorization","value":"Bearer {{waproject_authToken}}","id":"pair_fe0a04731022450384cbb4ba0d56d36d"}],"authentication":{},"metaSortKey":-1616794467290,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_f81c48f788154d1d9cc526dd924d57bd","parentId":"fld_4a4aa958883a477e9da3f1151097b41a","modified":1616802067382,"created":1616794185478,"url":"http://{{ _.dns }}/admin/user?page=0&pageSize=10&orderBy=email&orderDirection=asc","name":"List","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Authorization","value":"Bearer {{waproject_authToken}}","description":"","id":"pair_59d426dbbaa54890b664f6d7d78fb8c1"}],"authentication":{},"metaSortKey":-1616794160533.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_4a4aa958883a477e9da3f1151097b41a","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616794167933,"created":1616794167933,"name":"User","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1616794167933,"_type":"request_group"},{"_id":"req_3be06dd02df54616a5d8f7f61f1db04d","parentId":"fld_4a4aa958883a477e9da3f1151097b41a","modified":1616802020140,"created":1616794187125,"url":"http://{{dns}}/admin/user/roles","name":"Roles","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Authorization","value":"Bearer {{waproject_authToken}}","description":"","id":"pair_0cd09e8839504b5c829a41de2cf54e64"}],"authentication":{},"metaSortKey":-1616794160583.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_6db63944f39f4c18a5e0fca5511a56cc","parentId":"fld_4a4aa958883a477e9da3f1151097b41a","modified":1616795580798,"created":1616794190476,"url":"http://{{dns}}/admin/user","name":"Save","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"firstName\": \"WaProject\",\n  \"lastName\": \"Teste\",\n  \"email\": \"teste@waproject.com\",\n  \"roles\": [\n    \"admin\"\n  ]\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_4e60305e5f26461d90c960883eeb2a75"},{"name":"Authorization","value":"Bearer","description":"","id":"pair_969df58361164c0eab17db4a5586220c"}],"authentication":{},"metaSortKey":-1616794160483.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_912957ca64ec44059ed27c19af9a06ec","parentId":"fld_4a4aa958883a477e9da3f1151097b41a","modified":1616795577905,"created":1616794192168,"url":"http://{{dns}}/admin/user/2","name":"Delete","description":"","method":"DELETE","body":{},"parameters":[],"headers":[{"name":"Authorization","value":"Bearer","description":"","id":"pair_05e08d90f904456083c3e41e772e2fe2"}],"authentication":{},"metaSortKey":-1616794160508.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_2e46a0d1a3374604866dc021232d9937","parentId":"fld_8656e570ace44f0fa5d9acc1c425feb3","modified":1616992605428,"created":1616802147260,"url":"http://{{dns}}/app/product","name":"list","description":"","method":"GET","body":{},"parameters":[{"name":"page","value":"0","description":"","id":"pair_e28c6a03d890472991ea54393b4b73e5"},{"name":"pageSize","value":"20","description":"","id":"pair_2e31af49225a4f79a1d62d080e43c32a"},{"name":"orderDirection","value":"asc","description":"","id":"pair_d49d41dcd39a4bc0a393666dcb47d9b4"},{"name":"orderBy","value":"name","description":"","id":"pair_69215b0e7b7642c19f997b165ce5cd60"}],"headers":[{"name":"Authorization","value":"Bearer {{ _.waproject_authToken }}","description":"","id":"pair_ff3a1f2a9fe4478aa216e5f4966bb229"}],"authentication":{},"metaSortKey":-1616802147260,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_8656e570ace44f0fa5d9acc1c425feb3","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616802144405,"created":1616802144405,"name":"Product","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1616802144405,"_type":"request_group"},{"_id":"req_b9a0ecb8a0214322ab7c4db60443bf48","parentId":"fld_8656e570ace44f0fa5d9acc1c425feb3","modified":1616878885644,"created":1616851560867,"url":"http://{{dns}}/app/product/10","name":"Delete","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1616851560867,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_67b26d05cc214131b8378080ee11f5b6","parentId":"fld_8656e570ace44f0fa5d9acc1c425feb3","modified":1616851752127,"created":1616851577580,"url":"http://{{dns}}/app/product","name":"Create","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"name\": \"New Teste Product\",\n  \"description\": \"Foo Bar\",\n  \"value\": 123\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_d8c34f67b12a444b9e17f69b5211bd07"}],"authentication":{},"metaSortKey":-1616851577580,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_04ec9e7f5cba463bbce887c71ff6a37f","parentId":"fld_aa05312a76c640a6805948c3ff0e0c7c","modified":1616991974069,"created":1616873367931,"url":"http://{{dns}}/app/order","name":"List","description":"","method":"GET","body":{},"parameters":[{"name":"page","value":"0","description":"","id":"pair_892060485bd546abb4d5e72e2aeaac1d"},{"name":"pageSize","value":"10","description":"","id":"pair_f57af896b5e64da88dfa232c54004040"}],"headers":[{"name":"Authorization","value":"Bearer {{ _.waproject_authToken }}","description":"","id":"pair_26cf1d03c72c46f6a89b3296d225b6b8"}],"authentication":{},"metaSortKey":-1616873367931,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_aa05312a76c640a6805948c3ff0e0c7c","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616896448542,"created":1616873363756,"name":"Order - App","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1616873363756,"_type":"request_group"},{"_id":"req_5583d159d1234950bbca475d78378b6f","parentId":"fld_aa05312a76c640a6805948c3ff0e0c7c","modified":1616951417028,"created":1616878657991,"url":"http://{{dns}}/app/order/130","name":"Delete","description":"","method":"DELETE","body":{},"parameters":[],"headers":[{"name":"Authorization","value":"Bearer {{ _.waproject_authToken }}","description":"","id":"pair_b1a302922352457c99ba5dcf573230ef"}],"authentication":{},"metaSortKey":-1616878657991,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_71c66b61a6cc492c8546e21c61869d78","parentId":"fld_aa05312a76c640a6805948c3ff0e0c7c","modified":1616896642639,"created":1616878864262,"url":"http://{{dns}}/app/order/110","name":"Find by Id","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Authorization","value":"Bearer {{ _.waproject_authToken }}","description":"","id":"pair_98bee09c29594296bb05d54c2c2bebd4"}],"authentication":{},"metaSortKey":-1616862472755.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_203eddec00824b568184d2d645bf4942","parentId":"fld_aa05312a76c640a6805948c3ff0e0c7c","modified":1616896600809,"created":1616879605135,"url":"http://{{dns}}/app/order","name":"Create","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"userId\": 1,\n  \"products\": [\n    {\n      \"productId\": 1,\n      \"quantity\": 2\n    },\n    {\n      \"productId\": 2,\n      \"quantity\": 2\n    }\n  ]\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_f68b012b628e485f8e2cfee05bffa111"},{"name":"Authorization","value":"Bearer {{ _.waproject_authToken }}","description":"","id":"pair_8fff350aa94e4bd2a86fd20fb5f5de82"}],"authentication":{},"metaSortKey":-1616879605135,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_8d0f03031edb431b889a713499141600","parentId":"fld_15ae48398bea47b8aa5ea1170d25bd3f","modified":1613357342824,"created":1610470298637,"url":"http://10.0.5.244:31110/metrics","name":"Homologation - Stats","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1610470298637,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_15ae48398bea47b8aa5ea1170d25bd3f","parentId":"fld_19f6a808e85843ff9387a075d719f49e","modified":1610470290236,"created":1610470286282,"name":"Test Kubernetes Ingress","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610470286282,"_type":"request_group"},{"_id":"fld_19f6a808e85843ff9387a075d719f49e","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1610470278462,"created":1610470278462,"name":"Infra","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610470278462,"_type":"request_group"},{"_id":"req_d7a530902704474588fbc431530249a9","parentId":"fld_15ae48398bea47b8aa5ea1170d25bd3f","modified":1610470630435,"created":1610470451555,"url":"http://10.0.5.244:30921/portal_vagas/","name":"Homologation - HTTP","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Host","value":"wsrh.hom.mateus","description":"","id":"pair_88fd64b269144d70a59ffe1181312638"}],"authentication":{},"metaSortKey":-1610353898857,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_838951a550f44f8c8a1b3f5f1a9459e7","parentId":"fld_15ae48398bea47b8aa5ea1170d25bd3f","modified":1610470798969,"created":1610470720501,"url":"http://10.0.4.231:30308/portal_vagas/","name":"Development - HTTP","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Host","value":"wsrh.hom.mateus","description":"","id":"pair_88fd64b269144d70a59ffe1181312638"}],"authentication":{},"metaSortKey":-1610295698967,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_aefd3a67bf044845b8429e2b9560b143","parentId":"fld_15ae48398bea47b8aa5ea1170d25bd3f","modified":1613357327158,"created":1610470830425,"url":"http://10.0.4.231:31337","name":"Development - Stats","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1610412098747,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_512e2b99e5fa41cf902e0e98ef3e9087","parentId":"fld_8efb05acc8284d8d92b2558cb02364e9","modified":1613357701011,"created":1613357356629,"url":"http://10.0.5.22:80","name":"My Request","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Host","value":"kubernetes.prometheus.hom.mateus","description":"","id":"pair_9bb7ff0a1ba6414fb363efd2abdfa350"}],"authentication":{},"metaSortKey":-1613357356629,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_8efb05acc8284d8d92b2558cb02364e9","parentId":"fld_19f6a808e85843ff9387a075d719f49e","modified":1613357354476,"created":1613357354476,"name":"Test LoadBalancer","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1613357354476,"_type":"request_group"},{"_id":"req_65e2869712034bc69c5b36f5c51146a6","parentId":"fld_a77719c491114b8b990236341d7870ac","modified":1616107469137,"created":1615658945812,"url":"http://jenkins.dev.infra.mateus/createItem?name=asdf-rest-fiscal-server-test-o","name":"Jenkins - Criar job","description":"","method":"POST","body":{"mimeType":"application/xml","text":"<flow-definition plugin=\"workflow-job@2.40\">\n  <actions />\n  <description></description>\n  <keepDependencies>false</keepDependencies>\n  <properties>\n    <hudson.plugins.jira.JiraProjectProperty plugin=\"jira@3.1.3\" />\n    <org.jenkinsci.plugins.workflow.job.properties.DisableConcurrentBuildsJobProperty />\n    <org.jenkinsci.plugins.workflow.job.properties.DisableResumeJobProperty />\n    <com.dabsquared.gitlabjenkins.connection.GitLabConnectionProperty plugin=\"gitlab-plugin@1.5.13\">\n      <gitLabConnection>gitlab.mateus</gitLabConnection>\n    </com.dabsquared.gitlabjenkins.connection.GitLabConnectionProperty>\n    <org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>\n      <triggers>\n        <com.dabsquared.gitlabjenkins.GitLabPushTrigger plugin=\"gitlab-plugin@1.5.13\">\n          <spec></spec>\n          <triggerOnPush>true</triggerOnPush>\n          <triggerOnMergeRequest>true</triggerOnMergeRequest>\n          <triggerOnPipelineEvent>false</triggerOnPipelineEvent>\n          <triggerOnAcceptedMergeRequest>false</triggerOnAcceptedMergeRequest>\n          <triggerOnClosedMergeRequest>false</triggerOnClosedMergeRequest>\n          <triggerOnApprovedMergeRequest>true</triggerOnApprovedMergeRequest>\n          <triggerOpenMergeRequestOnPush>never</triggerOpenMergeRequestOnPush>\n          <triggerOnNoteRequest>true</triggerOnNoteRequest>\n          <noteRegex>Jenkins, roda uma build da branch dev</noteRegex>\n          <ciSkip>true</ciSkip>\n          <skipWorkInProgressMergeRequest>true</skipWorkInProgressMergeRequest>\n          <setBuildDescription>true</setBuildDescription>\n          <branchFilterType>All</branchFilterType>\n          <includeBranchesSpec></includeBranchesSpec>\n          <excludeBranchesSpec></excludeBranchesSpec>\n          <sourceBranchRegex></sourceBranchRegex>\n          <targetBranchRegex></targetBranchRegex>\n          <secretToken></secretToken>\n          <pendingBuildName></pendingBuildName>\n          <cancelPendingBuildsOnUpdate>false</cancelPendingBuildsOnUpdate>\n        </com.dabsquared.gitlabjenkins.GitLabPushTrigger>\n      </triggers>\n    </org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>\n  </properties>\n  <definition class=\"org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition\" plugin=\"workflow-cps@2.87\">\n  <script>\n    node {\n      def remotePipeline = null\n      stage(\"Loading remote pipeline\") {\n        logstash {\n          def branch      = java.net.URLEncoder.encode(\"dev\", \"UTF-8\")\n          def gitUrl      = java.net.URLEncoder.encode(\"git@gitlab.mateus:lucas.macedo/devops-rest-foo-bar-b.git\", \"UTF-8\")\n          def projectSubType = java.net.URLEncoder.encode(\"rest\", \"UTF-8\")\n          def modulo      = java.net.URLEncoder.encode(\"devops\", \"UTF-8\")\n\n          def response = httpRequest \"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javadeploydev:?branch=${branch}&amp;git_url=${giturl}&amp;project_type=${projectSubType}&amp;modulo=${modulo}\"\n          remotePipeline = response.content\n          writeFile encoding: \"UTF-8\", file: \"remote-pipeline.groovy\", text: \"${remotePipeline}\"\n          def remote = load \"remote-pipeline.groovy\"\n        }\n      }\n    }\n  </script>\n  <sandbox>true</sandbox>\n  </definition>\n  <triggers />\n  <disabled>false</disabled>\n</flow-definition>"},"parameters":[],"headers":[{"name":"Jenkins-Crumb","value":"43ee5b68086939a7cc1dd1329e4a99fa4fd3ae9847280ea7e2be6251685209ea","description":"","id":"pair_8177c62177284417a7c5a65f2d6d7ccc"},{"name":"Content-Type","value":"application/xml","id":"pair_b990d8b9beb04da48a4b54a82112b56c"},{"name":"Accept","value":"application/json","description":"","id":"pair_94429632719646478e2589eeddce339e"}],"authentication":{"type":"basic","useISO88591":false,"disabled":false,"username":"lucasmacedo","password":"gxYGQAm8"},"metaSortKey":-1613278313036,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_a77719c491114b8b990236341d7870ac","parentId":"fld_c1f24a7ec14d480c8d371d1bbe0aed2f","modified":1615658967726,"created":1615658967726,"name":"Jenkins","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1615658967726,"_type":"request_group"},{"_id":"fld_c1f24a7ec14d480c8d371d1bbe0aed2f","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1616103882784,"created":1615658945807,"name":"Test External Services","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-999999950.390625,"_type":"request_group"},{"_id":"req_1f9bb7f5b89949c5b65edc006f7cd271","parentId":"fld_a77719c491114b8b990236341d7870ac","modified":1615658976369,"created":1615658945819,"url":"http://jenkins.dev.infra.mateus/job/catchup-rest-autorizacao-rotina-dev/config.xml","name":"Jenkins - Pegar config.xml","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"","value":"","description":"","id":"pair_8585d22fce6140d698fbadfe7456606f"}],"authentication":{"type":"basic","useISO88591":false,"disabled":false,"username":"lucasmacedo","password":"gxYGQAm8"},"metaSortKey":-1613278312936,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_7a24180730b14277acf914fcbd988c48","parentId":"fld_a77719c491114b8b990236341d7870ac","modified":1615658977924,"created":1615658945825,"url":"http://jenkins.dev.infra.mateus/crumbIssuer/api/json","name":"Jenkins - Get Crumb","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"","value":"","description":"","id":"pair_abcad78126104cd7bc1c7a38061eabde"}],"authentication":{"type":"basic","useISO88591":false,"disabled":false,"username":"lucasmacedo","password":"gxYGQAm8"},"metaSortKey":-1613278312986,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_c432da455b2c4d51adde91bd5fc49f9a","parentId":"fld_eb4203bfe1d0453eb57796ebbd4323c1","modified":1615658980786,"created":1615658945835,"url":"http://localhost:9090/api/v4/projects?private_token=c1aQQqtU_KGeRfLsLR3t","name":"Gitlab - Criar Repositorio","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"name\": \"test-repo\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_90bb7256119148e893007c0669082ac7"}],"authentication":{},"metaSortKey":-1613257630167,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_eb4203bfe1d0453eb57796ebbd4323c1","parentId":"fld_c1f24a7ec14d480c8d371d1bbe0aed2f","modified":1615658971087,"created":1615658971087,"name":"GitLab","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1615658971087,"_type":"request_group"},{"_id":"req_5fc106507a0f4d08817a26e8bc0059c3","parentId":"fld_eb4203bfe1d0453eb57796ebbd4323c1","modified":1615658985672,"created":1615658945842,"url":"http://localhost:9090/api/v4/search?private_token=WCqUhVsDZxH2Zxrr84RZ&scope=projects&search=edw-rest-fiscal-server-test-g","name":"Gitlab - Consultar Repositorio","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1613257630179.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_cd8295a34e6f41f789c77d6e7ad0fea5","parentId":"fld_eb4203bfe1d0453eb57796ebbd4323c1","modified":1615658982529,"created":1615658945846,"url":"https://gitlab.mateus/api/v4/projects/507/hooks?private_token=Dr1o-7VyNyAs-s2jnnn_","name":"Gitlab - Pegar hook","description":"","method":"GET","body":{"mimeType":"application/json","text":"{\n\t\"name\": \"test-repo\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_90bb7256119148e893007c0669082ac7"}],"authentication":{},"metaSortKey":-1613257630217,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_1a0f8df361fd49f0b05429fcdb46dc81","parentId":"fld_eb4203bfe1d0453eb57796ebbd4323c1","modified":1615658984436,"created":1615658945849,"url":"https://gitlab.mateus/api/v4/projects/667/hooks/986?private_token=Dr1o-7VyNyAs-s2jnnn_&url=http://jenkins.dev.mateus","name":"Gitlab - Update hook","description":"","method":"PUT","body":{"mimeType":"application/json","text":"{\n\t\"name\": \"test-repo\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_90bb7256119148e893007c0669082ac7"}],"authentication":{},"metaSortKey":-1613257630192,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b51e08714c5a42e8adad8b6b27c0bd6a","parentId":"fld_9d9281778ba74e97820fad2717443aee","modified":1616521726796,"created":1611455065077,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javascriptdeploymaster:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":false}],"authentication":{},"metaSortKey":-1609069980306,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_9d9281778ba74e97820fad2717443aee","parentId":"fld_9c89aea0de7645c8a9882c50e9370864","modified":1611455073568,"created":1611455065075,"name":"testjavascript","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237710444,"_type":"request_group"},{"_id":"fld_9c89aea0de7645c8a9882c50e9370864","parentId":"fld_9ebb2492b7d54618b9adb018993e9cd2","modified":1610237299861,"created":1610237299861,"name":"engenharia-jenkins-support","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237299861,"_type":"request_group"},{"_id":"fld_9ebb2492b7d54618b9adb018993e9cd2","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1610237288575,"created":1610237288575,"name":"Engenharia","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237288575,"_type":"request_group"},{"_id":"req_0597c20ed00849b9b153161c86fe1f95","parentId":"fld_9d9281778ba74e97820fad2717443aee","modified":1611455065079,"created":1611455065079,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: scm\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n         - stage:\n             id: test\n             name: Test - ToDo\n             block: |\n               echo \"Test\"\n         - stage:\n             id: sonarqube\n             name: SonarQube - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: dockerbuild\n             name: Docker Build\n             block: |\n              dir(\"templates-deployment\") {\n                git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n              }\n              sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n              sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n              def docker_tool = tool name: \"docker\"\n              withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n               }\n         - \"deployk8sfront:\":\n            args:\n              SITE: Hom\n              CLUSTER_NAME: Cluster k8s Hom\n              CREDENTIALS_ID: token-k8s-hom\n              SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608486313802.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_0e7e1f85ed8848bc89bb4849b7dae3c6","parentId":"fld_9d9281778ba74e97820fad2717443aee","modified":1611516272192,"created":1611455065080,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"javascriptbuild - update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\nstage:\n  id: javascriptbuild\n  layout: >\n    {{#pipeline}}{{& .}}{{/pipeline}}\n  pipeline:\n      - stage:\n          id: install\n          name: Install Packages\n          block: |\n            nodejs(nodeJSInstallationName: 'Node 12.x') {\n              sh \"npm install\"\n            }\n      - stage:\n          id: test\n          name: Test\n          block: |\n            nodejs(nodeJSInstallationName: 'Node 12.x') {\n              sh \"npm test\"\n            }\n      - stage:\n          id: sonarqube\n          name: SonarQube\n          block: |\n            def sonarQubeTool = tool 'SonarQubeScanner'\n      - stage:\n          id: docker\n          name: Build Push Image\n          block: |\n            def dockerRegistry = 'rdocker.mateus:5001'\n            def packageJSON = readJSON file: 'package.json'\n            def projectName = packageJSON.name\n            def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n            if (\"{{args.BRANCH}}\" == \"staging\") {\n              dockerRegistry = 'registry.infra.hom.mateus'\n            } else if (\"{{args.BRANCH}}\" == \"dev\") {\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              // dockerRegistry = 'registry.infra.dev.mateus'\n            }\n            sh \"cp -r configs-templates-deployment/docker/javascript/{{args.PROJECT_TYPE}}/. ./\"\n            def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n            def dockerTool = tool name: 'docker'\n            withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n              sh \"docker build -t ${projectName} .\"\n              // Build/Push Latest\n              sh \"docker tag ${projectName} ${dockerImageName}:latest\"\n              sh \"docker push ${dockerImageName}:latest\"\n              // Build/Push ${projectTag}\n              sh \"docker tag ${projectName} ${dockerImageName}:${imageTag}\"\n              sh \"docker push ${dockerImageName}:${imageTag}\"\n            }\n      - stage:\n          id: deployk8s\n          name: Deploy to k8s site {{args.SITE}}\n          block: |\n            def dockerRegistry = 'rdocker.mateus:5001'\n            def packageJSON = readJSON file: 'package.json'\n            def projectName = packageJSON.name\n            def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n            def namespace = 'node-pro'\n            def deploymentName = \"${projectName}\"\n            if (\"{{args.BRANCH}}\" == \"staging\") {\n              dockerRegistry = 'registry.hom.infra.mateus'\n              namespace = 'node-hom'\n              deploymentName = \"${deploymentName}-hom\"\n            } else if (\"{{args.BRANCH}}\" == \"dev\") {\n              namespace = 'node-dev'\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              deploymentName = \"${deploymentName}-dev\"\n              // dockerRegistry = 'registry.dev.infra.mateus'\n            } else if (\"{{args.BRANCH}}\" == \"master\") {\n              deploymentName = \"${deploymentName}-prod\"\n            }\n            def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n            withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n              withKubeConfig(\n                clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n                contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n                caCertificate: '', namespace: ''\n              ) {\n                load \"configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n                sh \"cat configs-templates-deployment/deployments/javascript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n                sh \"cat configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/${projectName}.yml | envsubst > config-map.yml\"\n                sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n                sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n                sh \"kubectl rollout status deploy ${deploymentName} -n ${namespace}\"\n              }\n            }\n"},"parameters":[{"name":"git_url","value":"git@gitlab.mateus:chatbot/chatbot-rest-ananse","description":"","id":"pair_bf2f223f024d403294003b35d9904efa"},{"name":"branch","value":"dev","description":"","id":"pair_b15f8f628418424fbf2863a1c07dff6f"}],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608194480550.75,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_ed8306e25c1640cda3081964ca89965c","parentId":"fld_9d9281778ba74e97820fad2717443aee","modified":1611463457142,"created":1611462069109,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"javascriptdeploydev - update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: javascriptdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"scm:\"\n          - \"javascriptbuild::install\"\n          - \"javascriptbuild::test\"\n          - \"javascriptbuild::sonarqube\"\n          # - \"qualitygate:\"\n          - \"javascriptbuild::docker\"\n          - \"javascriptbuild::deployk8s\":\n              args:\n                SITE: Dev\n                CLUSTER_NAME: ClusterDevPulse\n                CREDENTIALS_ID: token-k8s-dev\n                SERVER_URL: https://k8s-lb.dev.mateus:6443"},"parameters":[{"name":"git_url","value":"git@gitlab.mateus:chatbot/chatbot-api-ananse.git","description":"","id":"pair_bf2f223f024d403294003b35d9904efa"},{"name":"branch","value":"dev","description":"","id":"pair_b15f8f628418424fbf2863a1c07dff6f"},{"name":"project_type","value":"rest","description":"","id":"pair_c101c92f042444f8894baf774600a242"},{"name":"modulo","value":"chatbot","description":"","id":"pair_617d386f003f43aeb5c50e5810ab199a"}],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608048563924.875,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_80a05b3b96544fb6aa9768e77a2fb3e0","parentId":"fld_9d9281778ba74e97820fad2717443aee","modified":1611463240344,"created":1611463216636,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"javascriptdeployk8s - update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"stage:\n  id: javascriptdeployk8s\n  name: Deploy to k8s site {{args.SITE}}\n  block: |\n    def dockerRegistry = 'rdocker.mateus:5001'\n    def packageJSON = readJSON file: 'package.json'\n    def projectName = packageJSON.name\n    def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n    def namespace = 'node-pro'\n    def deploymentName = \"${projectName}\"\n    if (\"{{args.BRANCH}}\" == \"staging\") {\n      dockerRegistry = 'registry.hom.infra.mateus'\n      namespace = 'node-hom'\n      deploymentName = \"${deploymentName}-hom\"\n    } else if (\"{{args.BRANCH}}\" == \"dev\") {\n      namespace = 'node-dev'\n      imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n      deploymentName = \"${deploymentName}-dev\"\n      // dockerRegistry = 'registry.dev.infra.mateus'\n    } else if (\"{{args.BRANCH}}\" == \"master\") {\n      deploymentName = \"${deploymentName}-prod\"\n    }\n    def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n    withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n      withKubeConfig(\n        clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n        contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n        caCertificate: '', namespace: ''\n      ) {\n        load \"configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n        sh \"cat configs-templates-deployment/deployments/javascript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n        sh \"cat configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/{{args.ARTIFACT}}.yml | envsubst > config-map.yml\"\n        sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n        sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n        sh \"kubectl rollout status deploy {{args.ARTIFACT}}-${branch} -n ${namespace}\"\n      }\n    }"},"parameters":[{"name":"git_url","value":"git@gitlab.mateus:chatbot/chatbot-api-ananse.git","description":"","id":"pair_bf2f223f024d403294003b35d9904efa"},{"name":"branch","value":"dev","description":"","id":"pair_b15f8f628418424fbf2863a1c07dff6f"},{"name":"project_type","value":"rest","description":"","id":"pair_c101c92f042444f8894baf774600a242"},{"name":"modulo","value":"chatbot","description":"","id":"pair_617d386f003f43aeb5c50e5810ab199a"}],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1607975605611.9375,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_9d6cdf56c9784ffebcb84366ec0c9165","parentId":"fld_9d9281778ba74e97820fad2717443aee","modified":1611516454368,"created":1611463466343,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"javascriptdeploystaging - update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: javascriptdeploysmaster\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"scm:\"\n          - \"javascriptbuild::install\"\n          - \"javascriptbuild::test\"\n          - \"javascriptbuild::sonarqube\"\n          # - \"qualitygate:\"\n          - \"javascriptbuild::docker\"\n          - \"javascriptbuild::deployk8s\":\n              args:\n                SITE: Site1\n                CLUSTER_NAME: cluster_k8s_prod_site1\n                CREDENTIALS_ID: 0084561c-977f-4dc0-ae41-48075a2507ca\n                SERVER_URL: https://k8s-lb.mateus:6443\n          - \"javascriptbuild::deployk8s\":\n              args:\n                SITE: Site2\n                CLUSTER_NAME: cluster_k8s_prod_site2\n                CREDENTIALS_ID: token_k8s_site2\n                SERVER_URL: https://k8s-lb-s2.mateus:6443"},"parameters":[{"name":"git_url","value":"git@gitlab.mateus:chatbot/chatbot-api-ananse.git","description":"","id":"pair_bf2f223f024d403294003b35d9904efa"},{"name":"branch","value":"dev","description":"","id":"pair_b15f8f628418424fbf2863a1c07dff6f"},{"name":"project_type","value":"rest","description":"","id":"pair_c101c92f042444f8894baf774600a242"},{"name":"modulo","value":"chatbot","description":"","id":"pair_617d386f003f43aeb5c50e5810ab199a"}],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608012084768.4062,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_5234406664c84d9396108822aac24054","parentId":"fld_a5ea22a26ca1491cb0d67306abf72dda","modified":1613508155630,"created":1613505302660,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"typescriptdeploydev","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: typescriptdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: scm\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: docker\n              name: Build and Push DockerImage\n              block: |\n                def dockerRegistry = 'rdocker.mateus:5001'\n                def packageJSON = readJSON file: 'package.json'\n                def projectName = packageJSON.name\n                def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n                if (\"{{args.BRANCH}}\" == \"staging\") {\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  dockerRegistry = 'registry.hom.infra.mateus'\n                } else if (\"{{args.BRANCH}}\" == \"dev\") {\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  // dockerRegistry = 'registry.infra.dev.mateus'\n                }\n                sh \"cp -r configs-templates-deployment/docker/javascript/{{args.PROJECT_TYPE}}/. ./\"\n                def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n                def dockerTool = tool name: 'docker'\n                withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n                  sh \"docker build -t ${projectName} .\"\n                  // Build/Push Latest\n                  sh \"docker tag ${projectName} ${dockerImageName}:latest\"\n                  sh \"docker push ${dockerImageName}:latest\"\n                  // Build/Push ${projectTag}\n                  sh \"docker tag ${projectName} ${dockerImageName}:${imageTag}\"\n                  sh \"docker push ${dockerImageName}:${imageTag}\"\n                }\n          - stage:\n              id: deployk8s\n              name: Deploy to k8s site {{args.SITE}}\n              args:\n                SITE: Dev\n                CLUSTER_NAME: ClusterDevPulse\n                CREDENTIALS_ID: token-k8s-dev\n                SERVER_URL: https://k8s-lb.dev.mateus:6443\n              block: |\n                def dockerRegistry = 'rdocker.mateus:5001'\n                def packageJSON = readJSON file: 'package.json'\n                def projectName = packageJSON.name\n                def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n                def namespace = 'node-pro'\n                def deploymentName = \"${projectName}\"\n                if (\"{{args.BRANCH}}\" == \"staging\") {\n                  dockerRegistry = 'registry.hom.infra.mateus'\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  namespace = 'node-hom'\n                  deploymentName = \"${deploymentName}-hom\"\n                } else if (\"{{args.BRANCH}}\" == \"dev\") {\n                  namespace = 'node-dev'\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  deploymentName = \"${deploymentName}-dev\"\n                  // dockerRegistry = 'registry.dev.infra.mateus'\n                } else if (\"{{args.BRANCH}}\" == \"master\") {\n                  deploymentName = \"${deploymentName}-prod\"\n                }\n                def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n                withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n                  withKubeConfig(\n                    clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n                    contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n                    caCertificate: '', namespace: ''\n                  ) {\n                    load \"configs-templates-deployment/configs/typescript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n                    sh \"cat configs-templates-deployment/deployments/typescript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n                    sh \"cat configs-templates-deployment/configs/typescript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/${projectName}.yml | envsubst > config-map.yml\"\n                    sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n                    sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n                    sh \"kubectl rollout status deploy ${deploymentName} -n ${namespace}\"\n                  }\n                }"},"parameters":[],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_1b4efdfd0ec643c9820e447fa866f988"}],"authentication":{},"metaSortKey":-1613505302660,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_a5ea22a26ca1491cb0d67306abf72dda","parentId":"fld_9c89aea0de7645c8a9882c50e9370864","modified":1613505292293,"created":1613505292293,"name":"Typescript","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1613505292294,"_type":"request_group"},{"_id":"req_9ed98d977490415a9c9a98798ec95313","parentId":"fld_a5ea22a26ca1491cb0d67306abf72dda","modified":1613508912761,"created":1613508397086,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"typescriptdeploystaging","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: typescriptdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: scm\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: docker\n              name: Build and Push Docker Image\n              block: |\n                def dockerRegistry = 'rdocker.mateus:5001'\n                def packageJSON = readJSON file: 'package.json'\n                def projectName = packageJSON.name\n                def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n                if (\"{{args.BRANCH}}\" == \"staging\") {\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  dockerRegistry = 'registry.hom.infra.mateus'\n                } else if (\"{{args.BRANCH}}\" == \"dev\") {\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  // dockerRegistry = 'registry.infra.dev.mateus'\n                }\n                sh \"cp -r configs-templates-deployment/docker/typescript/{{args.PROJECT_TYPE}}/. ./\"\n                def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n                def dockerTool = tool name: 'docker'\n                withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n                  sh \"docker build -t ${projectName} .\"\n                  // Build/Push Latest\n                  sh \"docker tag ${projectName} ${dockerImageName}:latest\"\n                  sh \"docker push ${dockerImageName}:latest\"\n                  // Build/Push ${projectTag}\n                  sh \"docker tag ${projectName} ${dockerImageName}:${imageTag}\"\n                  sh \"docker push ${dockerImageName}:${imageTag}\"\n                }\n          - stage:\n              id: deployk8s\n              name: Deploy to k8s site {{args.SITE}}\n              args:\n                SITE: Hom New\n                CLUSTER_NAME: cluster_k8s_hom_new\n                CREDENTIALS_ID: token-k8s-hom\n                SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n              block: |\n                def dockerRegistry = 'rdocker.mateus:5001'\n                def packageJSON = readJSON file: 'package.json'\n                def projectName = packageJSON.name\n                def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n                def namespace = 'node-pro'\n                def deploymentName = \"${projectName}\"\n                if (\"{{args.BRANCH}}\" == \"staging\") {\n                  dockerRegistry = 'registry.hom.infra.mateus'\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  namespace = 'node-hom'\n                  deploymentName = \"${deploymentName}-hom\"\n                } else if (\"{{args.BRANCH}}\" == \"dev\") {\n                  namespace = 'node-dev'\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  deploymentName = \"${deploymentName}-dev\"\n                  // dockerRegistry = 'registry.dev.infra.mateus'\n                } else if (\"{{args.BRANCH}}\" == \"master\") {\n                  deploymentName = \"${deploymentName}-prod\"\n                }\n                def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n                withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n                  withKubeConfig(\n                    clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n                    contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n                    caCertificate: '', namespace: ''\n                  ) {\n                    load \"configs-templates-deployment/configs/typescript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n                    sh \"cat configs-templates-deployment/deployments/typescript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n                    sh \"cat configs-templates-deployment/configs/typescript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/${projectName}.yml | envsubst > config-map.yml\"\n                    sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n                    sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n                    sh \"kubectl rollout status deploy ${deploymentName} -n ${namespace}\"\n                  }\n                }"},"parameters":[],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_1b4efdfd0ec643c9820e447fa866f988"}],"authentication":{},"metaSortKey":-1613431329644.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_ab313f025c2d47e6b286369b44601f09","parentId":"fld_a5ea22a26ca1491cb0d67306abf72dda","modified":1616177238912,"created":1616177198199,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/typescriptdeploydev_testca:","name":"typescriptdeploydev","description":"","method":"GET","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: typescriptdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: scm\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: docker\n              name: Build and Push DockerImage\n              block: |\n                def dockerRegistry = 'rdocker.mateus:5001'\n                def packageJSON = readJSON file: 'package.json'\n                def projectName = packageJSON.name\n                def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n                if (\"{{args.BRANCH}}\" == \"staging\") {\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  dockerRegistry = 'registry.hom.infra.mateus'\n                } else if (\"{{args.BRANCH}}\" == \"dev\") {\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  // dockerRegistry = 'registry.infra.dev.mateus'\n                }\n                sh \"cp -r configs-templates-deployment/docker/javascript/{{args.PROJECT_TYPE}}/. ./\"\n                def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n                def dockerTool = tool name: 'docker'\n                withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n                  sh \"docker build -t ${projectName} .\"\n                  // Build/Push Latest\n                  sh \"docker tag ${projectName} ${dockerImageName}:latest\"\n                  sh \"docker push ${dockerImageName}:latest\"\n                  // Build/Push ${projectTag}\n                  sh \"docker tag ${projectName} ${dockerImageName}:${imageTag}\"\n                  sh \"docker push ${dockerImageName}:${imageTag}\"\n                }\n          - stage:\n              id: deployk8s\n              name: Deploy to k8s site {{args.SITE}}\n              args:\n                SITE: Dev\n                CLUSTER_NAME: ClusterDevPulse\n                CREDENTIALS_ID: token-k8s-dev\n                SERVER_URL: https://k8s-lb.dev.mateus:6443\n              block: |\n                def dockerRegistry = 'rdocker.mateus:5001'\n                def packageJSON = readJSON file: 'package.json'\n                def projectName = packageJSON.name\n                def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n                def namespace = 'node-pro'\n                def deploymentName = \"${projectName}\"\n                if (\"{{args.BRANCH}}\" == \"staging\") {\n                  dockerRegistry = 'registry.hom.infra.mateus'\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  namespace = 'node-hom'\n                  deploymentName = \"${deploymentName}-hom\"\n                } else if (\"{{args.BRANCH}}\" == \"dev\") {\n                  namespace = 'node-dev'\n                  imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n                  deploymentName = \"${deploymentName}-dev\"\n                  // dockerRegistry = 'registry.dev.infra.mateus'\n                } else if (\"{{args.BRANCH}}\" == \"master\") {\n                  deploymentName = \"${deploymentName}-prod\"\n                }\n                def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n                withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n                  withKubeConfig(\n                    clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n                    contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n                    caCertificate: '', namespace: ''\n                  ) {\n                    load \"configs-templates-deployment/configs/typescript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n                    sh \"cat configs-templates-deployment/deployments/typescript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n                    sh \"cat configs-templates-deployment/configs/typescript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/${projectName}.yml | envsubst > config-map.yml\"\n                    sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n                    sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n                    sh \"kubectl rollout status deploy ${deploymentName} -n ${namespace}\"\n                  }\n                }"},"parameters":[],"headers":[{"name":"Content-Type","value":"text/yaml","id":"pair_1b4efdfd0ec643c9820e447fa866f988"},{"name":"Accept","value":"text/groovy","description":"","id":"pair_34d186a6ebc8418689715fa1eb582582"}],"authentication":{},"metaSortKey":-1613468316152.25,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_3916819d7d9c4d72ae70f5f8ab115fad","parentId":"fld_31dd3a2a0ce140b6b895246b1414d6b3","modified":1613508471064,"created":1610237313313,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javascriptdeploystaging:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1610237313313,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_31dd3a2a0ce140b6b895246b1414d6b3","parentId":"fld_02aa24ef37e345dfb6b46649e1d1fd01","modified":1610578103419,"created":1610237394369,"name":"javascriptdeploystaging","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237496538,"_type":"request_group"},{"_id":"fld_02aa24ef37e345dfb6b46649e1d1fd01","parentId":"fld_9c89aea0de7645c8a9882c50e9370864","modified":1611374212457,"created":1610237305917,"name":"Javascript","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237624471,"_type":"request_group"},{"_id":"req_4d2afb5491c943949460f1a0760e8c9d","parentId":"fld_31dd3a2a0ce140b6b895246b1414d6b3","modified":1610578210243,"created":1610237450987,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javascriptdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: SCM\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n               dir(\"configs-templates-deployment\") {\n                 git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n               }\n         - stage:\n             id: dependencies\n             name: NPM Dependencies\n             block: |\n               echo \"npm install\"\n         - stage:\n             id: test\n             name: Test\n             block: |\n               echo \"npm run test\"\n         - stage:\n             id: sonarqube\n             name: Sonar Qube\n             block: |\n               echo \"Sonar Qube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate\n             block: |\n               echo \"Quality Gate\"\n         - \"javascriptdockerbuild:\":\n         - \"javascriptdeployk8s:\":\n              args:\n                SITE: Hom\n                CLUSTER_NAME: cluster_k8s_hom\n                CREDENTIALS_ID: token-k8s-hom\n                SERVER_URL: https://k8s-lb.hom.infra.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1607902647299,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_a34e06fad9264acd94feafe8d4323fcc","parentId":"fld_31dd3a2a0ce140b6b895246b1414d6b3","modified":1611373206486,"created":1610237681616,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javascriptdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: SCM\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n               dir(\"configs-templates-deployment\") {\n                 git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n               }\n         - stage:\n             id: dependencies\n             name: NPM Dependencies\n             block: |\n               echo \"npm install\"\n         - stage:\n             id: test\n             name: Test\n             block: |\n               echo \"npm run test\"\n         - stage:\n             id: sonarqube\n             name: Sonar Qube\n             block: |\n               echo \"Sonar Qube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate\n             block: |\n               echo \"Quality Gate\"\n         - \"javascriptdockerbuild:\":\n         - \"javascriptdeployk8s:\":\n              args:\n                SITE: Hom\n                CLUSTER_NAME: cluster_k8s_hom\n                CREDENTIALS_ID: token-k8s-hom\n                SERVER_URL: https://k8s-lb.hom.infra.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1606735314292,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_9cdf31bb8e8d47ab8fe4d8962d59033c","parentId":"fld_445a06d31b894e47b450ef727f8a37f3","modified":1613507259366,"created":1610578138988,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javascriptdeploydev:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1610237313313,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_445a06d31b894e47b450ef727f8a37f3","parentId":"fld_02aa24ef37e345dfb6b46649e1d1fd01","modified":1611373578133,"created":1610578138974,"name":"javascriptdeploydev","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237496550.5,"_type":"request_group"},{"_id":"req_0c5a828445234cfe857f1a45c3ffb905","parentId":"fld_445a06d31b894e47b450ef727f8a37f3","modified":1612293035567,"created":1610578139011,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: javascriptdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"scm:\"\n          - \"javascriptbuild::install\"\n          - \"javascriptbuild::test\"\n          - \"javascriptbuild::sonarqube\"\n          # - \"qualitygate:\"\n          - \"javascriptbuild::docker\"\n          - \"javascriptbuild::deployk8s\":\n              args:\n                SITE: Dev\n                CLUSTER_NAME: ClusterDevPulse\n                CREDENTIALS_ID: token-k8s-dev\n                SERVER_URL: https://k8s-lb.dev.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1607902647299,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_0d3734ee56f24bf38a51f3dc7cb398e5","parentId":"fld_445a06d31b894e47b450ef727f8a37f3","modified":1613505328279,"created":1610578139020,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\ntemplate:\n  id: javascriptdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"scm:\"\n          - \"javascriptbuild::install\"\n          - \"javascriptbuild::test\"\n          - \"javascriptbuild::sonarqube\"\n          # - \"qualitygate:\"\n          - \"javascriptbuild::docker\"\n          - \"javascriptbuild::deployk8s\":\n              args:\n                SITE: Dev\n                CLUSTER_NAME: ClusterDevPulse\n                CREDENTIALS_ID: token-k8s-dev\n                SERVER_URL: https://k8s-lb.dev.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b","disabled":true}],"authentication":{},"metaSortKey":-1606735314292,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_5a514306216a4ded9f4c402ef45fb538","parentId":"fld_5c4ebc060b3a4f2594d1095157493a40","modified":1611373582895,"created":1611373569353,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javascriptdeploymaster:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1610237313313,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_5c4ebc060b3a4f2594d1095157493a40","parentId":"fld_02aa24ef37e345dfb6b46649e1d1fd01","modified":1611373569338,"created":1611373569338,"name":"javascriptdeploymaster","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237496500.5,"_type":"request_group"},{"_id":"req_79cc1f960d6b436abbf57b3c2870af44","parentId":"fld_5c4ebc060b3a4f2594d1095157493a40","modified":1611373598613,"created":1611373569364,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javascriptdeploymaster\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: SCM\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n               dir(\"configs-templates-deployment\") {\n                 git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n               }\n         - stage:\n             id: dependencies\n             name: NPM Dependencies\n             block: |\n               echo \"npm install\"\n         - stage:\n             id: test\n             name: Test\n             block: |\n               echo \"npm run test\"\n         - stage:\n             id: sonarqube\n             name: Sonar Qube\n             block: |\n               echo \"Sonar Qube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate\n             block: |\n               echo \"Quality Gate\"\n         - \"javascriptdockerbuild:\":\n         - \"javascriptdeployk8s:\":\n              args:\n                SITE: Site1\n                CLUSTER_NAME: cluster_k8s_prod_site1\n                CREDENTIALS_ID: 0084561c-977f-4dc0-ae41-48075a2507ca\n                SERVER_URL: https://k8s-lb.mateus:6443\n         - \"javascriptdeployk8s:\":\n              args:\n                SITE: Site2\n                CLUSTER_NAME: cluster_k8s_prod_site2\n                CREDENTIALS_ID: token_k8s_site2\n                SERVER_URL: https://k8s-lb-s2.mateus:6443   \n                "},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1607902647299,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_e0b3586355714d50812bbdc7fdb5bc51","parentId":"fld_5c4ebc060b3a4f2594d1095157493a40","modified":1611418132539,"created":1611373569366,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javascriptdeploymaster\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: SCM\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: dependencies\n              name: NPM Dependencies\n              block: |\n                echo \"npm install\"\n          - stage:\n              id: test\n              name: Test\n              block: |\n                echo \"npm run test\"\n          - stage:\n              id: sonarqube\n              name: Sonar Qube\n              block: |\n                echo \"Sonar Qube\"\n          - stage:\n              id: qualitygate\n              name: Quality Gate\n              block: |\n                echo \"Quality Gate\"\n          - stage:\n              id: dockerbuild\n              name: Build Image\n              block: |\n                def dockerRegistry = \"rdocker.mateus:5001\"\n                def packageJSON = readJSON file: 'package.json'\n                def packageJSONVersion = packageJSON.version\n                dir(\"configs-templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n                def branch = \"{{args.BRANCH}}\"\n                sh \"cp -r configs-templates-deployment/docker/javascript/rest/. ./\"\n                def docker_tool = tool name: \"docker\"\n                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                  sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                  sh \"docker tag {{args.ARTIFACT}} ${dockerRegistry}/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker tag {{args.ARTIFACT}} ${dockerRegistry}/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-${branch}\"\n                  sh \"docker push ${dockerRegistry}/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker push ${dockerRegistry}/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-${branch}\"\n                }\n          - \"javascriptdeployk8s:\":\n              args:\n                SITE: Site1\n                CLUSTER_NAME: cluster_k8s_prod_site1\n                CREDENTIALS_ID: 0084561c-977f-4dc0-ae41-48075a2507ca\n                SERVER_URL: https://k8s-lb.mateus:6443\n          - \"javascriptdeployk8s:\":\n              args:\n                SITE: Site2\n                CLUSTER_NAME: cluster_k8s_prod_site2\n                CREDENTIALS_ID: token_k8s_site2\n                SERVER_URL: https://k8s-lb-s2.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1606735314292,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_12a89f40f9f3491e8989a8cf295be630","parentId":"fld_2ba1994d8aae4912bf173d2ab027e46c","modified":1612293064776,"created":1612293048379,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javascriptbuild:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1610237313313,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_2ba1994d8aae4912bf173d2ab027e46c","parentId":"fld_02aa24ef37e345dfb6b46649e1d1fd01","modified":1612293055089,"created":1612293048367,"name":"javascriptbuild","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237496600.5,"_type":"request_group"},{"_id":"req_defbe0abf3e644a5b3c216244d0feb33","parentId":"fld_2ba1994d8aae4912bf173d2ab027e46c","modified":1612293069022,"created":1612293048385,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\nstage:\n  id: javascriptbuild\n  layout: >\n    {{#pipeline}}{{& .}}{{/pipeline}}\n  pipeline:\n      - stage:\n          id: install\n          name: Install Packages\n          block: |\n            nodejs(nodeJSInstallationName: 'Node 12.x') {\n              sh \"npm install\"\n            }\n      - stage:\n          id: test\n          name: Test\n          block: |\n            nodejs(nodeJSInstallationName: 'Node 12.x') {\n              sh \"npm test\"\n            }\n      - stage:\n          id: sonarqube\n          name: SonarQube\n          block: |\n            def sonarQubeTool = tool 'SonarQubeScanner'\n      - stage:\n          id: docker\n          name: Build Push Image\n          block: |\n            def dockerRegistry = 'rdocker.mateus:5001'\n            def packageJSON = readJSON file: 'package.json'\n            def projectName = packageJSON.name\n            def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n            if (\"{{args.BRANCH}}\" == \"staging\") {\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              dockerRegistry = 'registry.hom.infra.mateus'\n            } else if (\"{{args.BRANCH}}\" == \"dev\") {\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              // dockerRegistry = 'registry.infra.dev.mateus'\n            }\n            sh \"cp -r configs-templates-deployment/docker/javascript/{{args.PROJECT_TYPE}}/. ./\"\n            def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n            def dockerTool = tool name: 'docker'\n            withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n              sh \"docker build -t ${projectName} .\"\n              // Build/Push Latest\n              sh \"docker tag ${projectName} ${dockerImageName}:latest\"\n              sh \"docker push ${dockerImageName}:latest\"\n              // Build/Push ${projectTag}\n              sh \"docker tag ${projectName} ${dockerImageName}:${imageTag}\"\n              sh \"docker push ${dockerImageName}:${imageTag}\"\n            }\n      - stage:\n          id: deployk8s\n          name: Deploy to k8s site {{args.SITE}}\n          block: |\n            def dockerRegistry = 'rdocker.mateus:5001'\n            def packageJSON = readJSON file: 'package.json'\n            def projectName = packageJSON.name\n            def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n            def namespace = 'node-pro'\n            def deploymentName = \"${projectName}\"\n            if (\"{{args.BRANCH}}\" == \"staging\") {\n              dockerRegistry = 'registry.hom.infra.mateus'\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              namespace = 'node-hom'\n              deploymentName = \"${deploymentName}-hom\"\n            } else if (\"{{args.BRANCH}}\" == \"dev\") {\n              namespace = 'node-dev'\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              deploymentName = \"${deploymentName}-dev\"\n              // dockerRegistry = 'registry.dev.infra.mateus'\n            } else if (\"{{args.BRANCH}}\" == \"master\") {\n              deploymentName = \"${deploymentName}-prod\"\n            }\n            def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n            withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n              withKubeConfig(\n                clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n                contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n                caCertificate: '', namespace: ''\n              ) {\n                load \"configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n                sh \"cat configs-templates-deployment/deployments/javascript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n                sh \"cat configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/${projectName}.yml | envsubst > config-map.yml\"\n                sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n                sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n                sh \"kubectl rollout status deploy ${deploymentName} -n ${namespace}\"\n              }\n            }\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1607902647299,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_442719c50cd44ed2b104cbdfc4bf7d70","parentId":"fld_2ba1994d8aae4912bf173d2ab027e46c","modified":1612293071184,"created":1612293048389,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"---\nstage:\n  id: javascriptbuild\n  layout: >\n    {{#pipeline}}{{& .}}{{/pipeline}}\n  pipeline:\n      - stage:\n          id: install\n          name: Install Packages\n          block: |\n            nodejs(nodeJSInstallationName: 'Node 12.x') {\n              sh \"npm install\"\n            }\n      - stage:\n          id: test\n          name: Test\n          block: |\n            nodejs(nodeJSInstallationName: 'Node 12.x') {\n              sh \"npm test\"\n            }\n      - stage:\n          id: sonarqube\n          name: SonarQube\n          block: |\n            def sonarQubeTool = tool 'SonarQubeScanner'\n      - stage:\n          id: docker\n          name: Build Push Image\n          block: |\n            def dockerRegistry = 'rdocker.mateus:5001'\n            def packageJSON = readJSON file: 'package.json'\n            def projectName = packageJSON.name\n            def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n            if (\"{{args.BRANCH}}\" == \"staging\") {\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              dockerRegistry = 'registry.hom.infra.mateus'\n            } else if (\"{{args.BRANCH}}\" == \"dev\") {\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              // dockerRegistry = 'registry.infra.dev.mateus'\n            }\n            sh \"cp -r configs-templates-deployment/docker/javascript/{{args.PROJECT_TYPE}}/. ./\"\n            def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n            def dockerTool = tool name: 'docker'\n            withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n              sh \"docker build -t ${projectName} .\"\n              // Build/Push Latest\n              sh \"docker tag ${projectName} ${dockerImageName}:latest\"\n              sh \"docker push ${dockerImageName}:latest\"\n              // Build/Push ${projectTag}\n              sh \"docker tag ${projectName} ${dockerImageName}:${imageTag}\"\n              sh \"docker push ${dockerImageName}:${imageTag}\"\n            }\n      - stage:\n          id: deployk8s\n          name: Deploy to k8s site {{args.SITE}}\n          block: |\n            def dockerRegistry = 'rdocker.mateus:5001'\n            def packageJSON = readJSON file: 'package.json'\n            def projectName = packageJSON.name\n            def imageTag = \"${packageJSON.version}-{{args.BRANCH}}\"\n            def namespace = 'node-pro'\n            def deploymentName = \"${projectName}\"\n            if (\"{{args.BRANCH}}\" == \"staging\") {\n              dockerRegistry = 'registry.hom.infra.mateus'\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              namespace = 'node-hom'\n              deploymentName = \"${deploymentName}-hom\"\n            } else if (\"{{args.BRANCH}}\" == \"dev\") {\n              namespace = 'node-dev'\n              imageTag = \"${imageTag}-${BUILD_NUMBER}\"\n              deploymentName = \"${deploymentName}-dev\"\n              // dockerRegistry = 'registry.dev.infra.mateus'\n            } else if (\"{{args.BRANCH}}\" == \"master\") {\n              deploymentName = \"${deploymentName}-prod\"\n            }\n            def dockerImageName = \"${dockerRegistry}/ithappens/${projectName}\"\n            withEnv([\"NAME_DEPLOYMENT=${deploymentName}\", \"IMAGE_NAME=${dockerImageName}:${imageTag}\"]){\n              withKubeConfig(\n                clusterName: '{{args.CLUSTER_NAME}}', credentialsId: '{{args.CREDENTIALS_ID}}',\n                contextName: 'kubernetes-admin@kubernetes', serverUrl: '{{args.SERVER_URL}}',\n                caCertificate: '', namespace: ''\n              ) {\n                load \"configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}//{{args.MODULO}}/${projectName}.groovy\"\n                sh \"cat configs-templates-deployment/deployments/javascript/{{args.PROJECT_TYPE}}/deployment.yml | envsubst > deployment.yml\"\n                sh \"cat configs-templates-deployment/conf/javascript/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/config-maps/${projectName}.yml | envsubst > config-map.yml\"\n                sh \"kubectl --namespace=${namespace} apply -f config-map.yml\"\n                sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n                sh \"kubectl rollout status deploy ${deploymentName} -n ${namespace}\"\n              }\n            }\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038"},{"name":"Content-Type","value":"text/yaml","id":"pair_a4b3a2299cc14a32ada0cf129e0b3f4b"}],"authentication":{},"metaSortKey":-1606735314292,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_03d545ff7ee54972a3be94cd69153c2d","parentId":"fld_7b3de7cb6dd7453794787e79770e9b38","modified":1611461767038,"created":1610237400854,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javadeploystaging:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b","disabled":false},{"name":"Accept","value":"application/yaml","description":"","id":"pair_180cf6ca78e643138ca70b06e88e5c5e","disabled":true}],"authentication":{},"metaSortKey":-1610237400854,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_7b3de7cb6dd7453794787e79770e9b38","parentId":"fld_65eae5bc4637466c9bca0e38ae19779c","modified":1610237389821,"created":1610237389821,"name":"javadeploystaging","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237389821,"_type":"request_group"},{"_id":"fld_65eae5bc4637466c9bca0e38ae19779c","parentId":"fld_9c89aea0de7645c8a9882c50e9370864","modified":1611374214761,"created":1610237366702,"name":"Java","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237581509.5,"_type":"request_group"},{"_id":"req_01d44e601ec443b79b8938f24d844e2b","parentId":"fld_7b3de7cb6dd7453794787e79770e9b38","modified":1611373793956,"created":1611292509215,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javadeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n        {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"logstash:\":\n              children:\n                - \"scm:\"\n                - \"gitlabcommitstatus:\":\n                    children:\n                      - \"javatestbuild::build\"\n                      - \"javatestbuild::test\"\n                      - \"javatestbuild::sonarqube\"\n                      - \"javatestbuild::qualitygate\"\n                      - stage:\n                          id: dockerbuild\n                          name: Docker Build\n                          block: |\n                            def pom = readMavenPom file: ''\n                            def dockerRegistry = 'registry.hom.infra.mateus'\n                            def dockerTool = tool name: 'docker'\n                            configFileProvider([configFile(fileId: 'DockerImageGenerator', variable: 'DOCKER_IG')]) {\n                              configFileProvider([configFile(fileId: 'DockerFile', variable: 'DOCKERFILE')]) {\n                                withEnv([\"PATH=$PATH:${dockerTool}/bin\"]) {\n                                  withCredentials([usernamePassword(credentialsId: 'RegistryPullSecret', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD')]) {\n                                    sh \"docker login ${dockerRegistry} --username ${USERNAME} --password ${PASSWORD}\"\n                                    sh \"/bin/bash ${DOCKER_IG} ${dockerRegistry} ithappens/${pom.artifactId} ${pom.version}-{{args.BRANCH}}\"  \n                                  }\n                                }\n                              }\n                            }\n#                       - \"deployk8sjava:\":\n#                           args:\n#                             SITE: Hom Old\n#                             CLUSTER_NAME: cluster_k8s_hom_old\n#                             CREDENTIALS_ID: 451d592d-ce0d-476b-bc29-cc437e29c18a\n#                             SERVER_URL: https://k8s-lb.hom.mateus:6443                      \n                      - \"deployk8sjava:\":\n                          args:\n                            SITE: Hom New\n                            CLUSTER_NAME: cluster_k8s_hom_new\n                            CREDENTIALS_ID: token-k8s-hom\n                            SERVER_URL: https://k8s-lb.hom.infra.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b"},{"name":"Content-Type","value":"text/yaml","id":"pair_b028efc7bae24de7b5fce49794701521"}],"authentication":{},"metaSortKey":-1610237357083.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_0a6dc5ef8e7446ae954221b8fa2a5acc","parentId":"fld_7b3de7cb6dd7453794787e79770e9b38","modified":1611373623506,"created":1611373616082,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javadeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n        {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"logstash:\":\n              children:\n                - \"scm:\"\n                - \"gitlabcommitstatus:\":\n                    children:\n                      - \"javatestbuild::build\"\n                      - \"javatestbuild::test\"\n                      - \"javatestbuild::sonarqube\"\n                      - \"javatestbuild::qualitygate\"\n                      - stage:\n                          id: dockerbuild\n                          name: Docker Build\n                          block: |\n                            def pom = readMavenPom file: ''\n                            def dockerRegistry = 'registry.hom.infra.mateus'\n                            def docker_tool = tool name: 'docker'\n                            configFileProvider([configFile(fileId: 'DockerImageGenerator', variable: 'DOCKER_IG')]) {\n                              configFileProvider([configFile(fileId: 'DockerFile', variable: 'DOCKERFILE')]) {\n                                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                                  withCredentials([usernamePassword(credentialsId: 'RegistryPullSecret', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD')]) {\n                                    sh \"docker login ${dockerRegistry} --username ${USERNAME} --password ${PASSWORD}\"\n                                    sh \"/bin/bash ${DOCKER_IG} ${dockerRegistry} ithappens/${pom.artifactId} ${pom.version}-{{args.BRANCH}}\"  \n                                  }\n                                }\n                              }\n                            }\n#                       - \"deployk8sjava:\":\n#                           args:\n#                             SITE: Hom Old\n#                             CLUSTER_NAME: cluster_k8s_hom_old\n#                             CREDENTIALS_ID: 451d592d-ce0d-476b-bc29-cc437e29c18a\n#                             SERVER_URL: https://k8s-lb.hom.mateus:6443                      \n                      - \"deployk8sjava:\":\n                          args:\n                            SITE: Hom New\n                            CLUSTER_NAME: cluster_k8s_hom_new\n                            CREDENTIALS_ID: token-k8s-hom\n                            SERVER_URL: https://k8s-lb.hom.infra.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b"},{"name":"Content-Type","value":"text/yaml","id":"pair_b028efc7bae24de7b5fce49794701521"}],"authentication":{},"metaSortKey":-1610237335198.25,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_2beef1dda71d47efa7707f3b1dc6d7cb","parentId":"fld_25ef123b98004e348105be2c6fd1ccb2","modified":1611461140652,"created":1611293589321,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javadeploydev:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b","disabled":true},{"name":"Accept","value":"application/yaml","description":"","id":"pair_180cf6ca78e643138ca70b06e88e5c5e","disabled":false}],"authentication":{},"metaSortKey":-1610237400854,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_25ef123b98004e348105be2c6fd1ccb2","parentId":"fld_65eae5bc4637466c9bca0e38ae19779c","modified":1611373638989,"created":1611293589308,"name":"javadeploydev","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237389871,"_type":"request_group"},{"_id":"req_78f6b1e7d6d746a9ac5155424439b0f8","parentId":"fld_25ef123b98004e348105be2c6fd1ccb2","modified":1611463272385,"created":1611293589337,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javadeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n        {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"logstash:\":\n              children:\n                - \"scm:\"\n                - \"gitlabcommitstatus:\":\n                    children:\n                      - \"javatestbuild::build\"\n                      - \"javatestbuild::test\"\n                      - \"javatestbuild::sonarqube\"\n                      - \"javatestbuild::qualitygate\"\n                      - stage:\n                          id: dockerbuild\n                          name: Docker Build\n                          block: |\n                            def pom = readMavenPom file: ''\n                            def dockerRegistry = 'rdocker.mateus:5001'\n                            def docker_tool = tool name: 'docker'\n                            configFileProvider([configFile(fileId: 'DockerImageGenerator', variable: 'DOCKER_IG')]) {\n                              configFileProvider([configFile(fileId: 'DockerFile', variable: 'DOCKERFILE')]) {\n                                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                                  sh \"chmod +x ${DOCKER_IG}\"\n                                  sh \"/bin/bash ${DOCKER_IG} ${dockerRegistry} ithappens/${pom.artifactId} ${pom.version}-${BUILD_NUMBER}-{{args.BRANCH}}\"\n                                }\n                              }\n                            }\n                             \n                      - \"deployk8sjava:\":\n                          args:\n                            SITE: Dev\n                            CLUSTER_NAME: ClusterDevPulse\n                            CREDENTIALS_ID: token-k8s-dev\n                            SERVER_URL: https://k8s-lb.dev.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b"},{"name":"Content-Type","value":"text/yaml","id":"pair_b028efc7bae24de7b5fce49794701521"}],"authentication":{},"metaSortKey":-1610237357083.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_eb598ba513d94984814f49615a3689e9","parentId":"fld_ecb172ec04524992a1a6d509b931fccd","modified":1616001920953,"created":1611373637214,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javadeploy:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b","disabled":false},{"name":"Accept","value":"application/yaml","description":"","id":"pair_180cf6ca78e643138ca70b06e88e5c5e","disabled":true}],"authentication":{},"metaSortKey":-1610237400854,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_ecb172ec04524992a1a6d509b931fccd","parentId":"fld_65eae5bc4637466c9bca0e38ae19779c","modified":1611373637213,"created":1611373637213,"name":"javadeploymaster","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237372481.75,"_type":"request_group"},{"_id":"req_55240c1474b54d4ba29f13d207306e2e","parentId":"fld_ecb172ec04524992a1a6d509b931fccd","modified":1611373950864,"created":1611373637215,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: javadeploy\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n        {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - \"logstash:\":\n              children:\n                - \"scm:\"\n                - \"gitlabcommitstatus:\":\n                    children:\n                      - \"javatestbuild::build\"\n                      - \"javatestbuild::test\"\n                      - \"javatestbuild::sonarqube\"\n                      - \"javatestbuild::qualitygate\"\n                      - stage:\n                          id: dockerbuild\n                          name: Docker Build\n                          block: |\n                            def pom = readMavenPom file: ''\n                            def dockerRegistry = 'rdocker.mateus:5001'\n                            def dockerTool = tool name: \"docker\"\n                            configFileProvider([configFile(fileId: 'DockerImageGenerator', variable: 'DOCKER_IG')]) {\n                              configFileProvider([configFile(fileId: 'DockerFile', variable: 'DOCKERFILE')]) {\n                                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                                  sh \"/bin/bash ${DOCKER_IG} ${dockerRegistry} ithappens/${pom.artifactId} ${pom.version}-{{args.BRANCH}}\"\n                                }\n                              }\n                            }\n                      - \"deployk8sjava:\":\n                          args:\n                            SITE: Site 1\n                            CLUSTER_NAME: ClusterItHappens\n                            CREDENTIALS_ID: 0084561c-977f-4dc0-ae41-48075a2507ca\n                            SERVER_URL: https://k8s-lb.mateus:6443\n                      - \"deployk8sjava:\":\n                          args:\n                            SITE: Site 2\n                            CLUSTER_NAME: KubernetesSite2\n                            CREDENTIALS_ID: token_k8s_site2\n                            SERVER_URL: https://k8s-lb-s2.mateus:6443"},"parameters":[],"headers":[{"name":"accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b"},{"name":"Content-Type","value":"text/yaml","id":"pair_b028efc7bae24de7b5fce49794701521"}],"authentication":{},"metaSortKey":-1610237357083.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_633dd24792ba4753a8a1c0b7c3ab244c","parentId":"fld_32283221654a4f85897d53a64e1a63cb","modified":1611462178567,"created":1611373821610,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/javatestbuild:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b","disabled":false},{"name":"Accept","value":"application/yaml","description":"","id":"pair_180cf6ca78e643138ca70b06e88e5c5e","disabled":true}],"authentication":{},"metaSortKey":-1610237400854,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_32283221654a4f85897d53a64e1a63cb","parentId":"fld_65eae5bc4637466c9bca0e38ae19779c","modified":1611373821597,"created":1611373821597,"name":"javatestbuild","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237369591.875,"_type":"request_group"},{"_id":"req_b96e9cf507fb4d1fa17b6932c3b9a849","parentId":"fld_32283221654a4f85897d53a64e1a63cb","modified":1611374064636,"created":1611373821620,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"stage:\n  id: javatestbuild\n  layout: >\n    {{#pipeline}}{{& .}}{{/pipeline}}\n  pipeline:\n    - \"logstash:1\":\n        children:\n          - \"scm:1\"\n          - \"gitlabcommitstatus:1\":\n              children:\n                - stage:\n                    id: build\n                    name: Build\n                    block: |\n                      def mavenTool = tool name: 'M3', type: 'maven'\n                      def jdkTook = tool name: 'jdk8'\n                      env.JAVA_HOME = \"${jdkTook}\"\n                      configFileProvider([configFile(fileId: 'SETTINGS_ARTIFACTORY', variable: 'SETTINGS_XML')]) {\n                          sh \"${mavenTool}/bin/mvn -B -DskipTests clean package -s ${SETTINGS_XML}\"\n                      }\n                - stage:\n                    id: test\n                    name: Test\n                    block: |\n                      def mavenTool = tool name: 'M3', type: 'maven'\n                      configFileProvider([configFile(fileId: 'SETTINGS_ARTIFACTORY', variable: 'SETTINGS_XML')]) {\n                          sh \"${mavenTool}/bin/mvn test jacoco:report -s ${SETTINGS_XML}\"\n                          junit allowEmptyResults: true, testResults: 'target/surefire-reports/*.xml'\n                      }\n                - stage:\n                    id: sonarqube\n                    name: SonarQube\n                    block: |\n                      def pom = readMavenPom file: ''\n                      configFileProvider([configFile(fileId: 'SonarQubeFile', variable: 'SONAR_TEMPLATE')]) {\n                          sh \"chmod +x ${SONAR_TEMPLATE}\"\n                          sh \"/bin/bash ${SONAR_TEMPLATE} ${pom.artifactId}_{{args.BRANCH}} ${pom.version} sonar-project.properties\"\n                      }\n                      def scannerHome = tool 'SonarQubeScanner';\n                      withSonarQubeEnv() {\n                          sh \"${scannerHome}/bin/sonar-scanner\"\n                      }\n                - stage:\n                    id: qualitygate\n                    name: Quality Gate\n                    pipeline:\n                      - timeout:\n                          time: 10\n                          unit: '\"MINUTES\"'\n                          block: |\n                            def qg = waitForQualityGate()\n                            if (qg.status != 'OK') {\n                                error \"Pipeline aborted due to quality gate failure: ${qg.status}\"\n                            }"},"parameters":[],"headers":[{"name":"accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b"},{"name":"Content-Type","value":"text/yaml","id":"pair_b028efc7bae24de7b5fce49794701521"}],"authentication":{},"metaSortKey":-1610237357083.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_68d701c78a694adfa0c89b073520d389","parentId":"fld_ad0086a24fbf465bb545cacb3239dee5","modified":1611374162539,"created":1611374156776,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/deployk8sjava:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"Accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b","disabled":true},{"name":"Accept","value":"application/yaml","description":"","id":"pair_180cf6ca78e643138ca70b06e88e5c5e"}],"authentication":{},"metaSortKey":-1610237400854,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_ad0086a24fbf465bb545cacb3239dee5","parentId":"fld_65eae5bc4637466c9bca0e38ae19779c","modified":1611374156772,"created":1611374156772,"name":"deployk8sjava","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237368146.9375,"_type":"request_group"},{"_id":"req_299171a91feb44ab8fe0fd26cd1dcd1c","parentId":"fld_ad0086a24fbf465bb545cacb3239dee5","modified":1611374168177,"created":1611374156779,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"stage:\n  id: deployk8sjava\n  name: Deploy to Kubernetes {{args.SITE}}\n  block: |\n    def pom = readMavenPom file: ''\n    def dockerRegistry = 'rdocker.mateus:5001'\n    \n    def deploymentFileName = 'deployment-java-default.yaml'\n    def groovyFile = \"conf/java/{{args.PROJECT_TYPE}}/master/{{args.MODULO}}/${pom.artifactId}.groovy\"\n    def directory = \"${deploymentFileName} ${WORKSPACE}\"\n    def namespace = 'java-pro'\n    def nameDeployment = \"${pom.artifactId}-prod\"\n    if(\"{{args.BRANCH}}\" == \"staging\") {\n        groovyFile = \"conf/java/{{args.PROJECT_TYPE}}/homologacao/{{args.MODULO}}/${pom.artifactId}.groovy\"\n        namespace = 'java-hom'\n        nameDeployment = \"${pom.artifactId}-hom\"\n        dockerRegistry = \"registry.hom.infra.mateus\"\n    }\n    def imageDocker = \"${dockerRegistry}/ithappens/${pom.artifactId}:${pom.version}-{{args.BRANCH}}\"\n    if(\"{{args.BRANCH}}\" == \"dev\") {\n        groovyFile = \"conf/java/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/${pom.artifactId}.groovy\"\n        // Dev sempre deve mudar a tag da image, por isso adicinamos o BUILD_NUMBER\n        imageDocker = \"${dockerRegistry}/ithappens/${pom.artifactId}:${pom.version}-${BUILD_NUMBER}-{{args.BRANCH}}\"\n        namespace = 'java-dev'\n        nameDeployment = \"${pom.artifactId}-dev\"\n    }\n    sh 'mkdir -p kubkonfig'\n    dir('kubkonfig') {\n      checkout changelog: true, poll: true, scm: [\n        $class: 'GitSCM',\n        branches: [[name: \"origin/master\"]],\n        doGenerateSubmoduleConfigurations: false,\n        submoduleCfg: [],\n        userRemoteConfigs: [[credentialsId: 'JenkinsUserInGitLab', url: \"git@gitlab.mateus:infra/configs-templates-deployment.git\"]]\n      ]\n      withEnv([\"NAME_DEPLOYMENT=${nameDeployment}\", \"IMAGE_DOCKER=${imageDocker}\"]) {\n        withKubeConfig(\n          caCertificate: '', clusterName: '{{args.CLUSTER_NAME}}',\n          contextName: 'kubernetes-admin@kubernetes', credentialsId: '{{args.CREDENTIALS_ID}}',\n          namespace: '', serverUrl: '{{args.SERVER_URL}}',\n        ) {\n          sh \"cp ${directory}\"\n          load \"${groovyFile}\"\n          sh 'rm -rf deployment.yaml'\n          sh \"cat ${deploymentFileName} | envsubst > deployment.yaml\"\n          sh \"kubectl --namespace=${namespace} apply -f deployment.yaml --record=true\"\n          sh \"kubectl set image deployment.v1.apps/${nameDeployment} ${nameDeployment}-container=${imageDocker} --namespace=${namespace} --record=true\"\n          sleep 30\n          sh \"kubectl rollout status deployment.v1.apps/${nameDeployment} --namespace=${namespace}\"\n        }\n      }\n    }"},"parameters":[],"headers":[{"name":"accept","value":"text/groovy","description":"","id":"pair_e1476a61e8d24357b04808187cc53a0b"},{"name":"Content-Type","value":"text/yaml","id":"pair_b028efc7bae24de7b5fce49794701521"}],"authentication":{},"metaSortKey":-1610237357083.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_bcf8c46df86c40f2893a4cdd773220d9","parentId":"fld_122e0ba1cf7f4a89b0b626fbcb01a663","modified":1612293121257,"created":1610237725603,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/frontdeploystaging:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":true},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":false}],"authentication":{},"metaSortKey":-1609069980306,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_122e0ba1cf7f4a89b0b626fbcb01a663","parentId":"fld_035042f33c6f46928edf0ad6028f36f4","modified":1610237720694,"created":1610237715431,"name":"frontdeploystaging","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237715431,"_type":"request_group"},{"_id":"fld_035042f33c6f46928edf0ad6028f36f4","parentId":"fld_9c89aea0de7645c8a9882c50e9370864","modified":1610237710394,"created":1610237710394,"name":"Front","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237710394,"_type":"request_group"},{"_id":"req_c783968557794a8c9a46233dfd77d186","parentId":"fld_122e0ba1cf7f4a89b0b626fbcb01a663","modified":1610237885647,"created":1610237741703,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: scm\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n         - stage:\n             id: test\n             name: Test - ToDo\n             block: |\n               echo \"Test\"\n         - stage:\n             id: sonarqube\n             name: SonarQube - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: dockerbuild\n             name: Docker Build\n             block: |\n              dir(\"templates-deployment\") {\n                git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n              }\n              sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n              sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n              def docker_tool = tool name: \"docker\"\n              withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n               }\n         - \"deployk8sfront:\":\n            args:\n              SITE: Hom\n              CLUSTER_NAME: Cluster k8s Hom\n              CREDENTIALS_ID: token-k8s-hom\n              SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608486313802.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_6d6a9a7257be4bd2baaab5f1f9c71ab9","parentId":"fld_122e0ba1cf7f4a89b0b626fbcb01a663","modified":1610465271679,"created":1610237898382,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: scm\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                   git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: dockerbuild\n              name: Docker Build\n              block: |\n                dir(\"templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n                sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n                sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n                def docker_tool = tool name: \"docker\"\n                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                  sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                  sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                  sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                 }\n          - \"deployk8sfront:\":\n              args:\n                SITE: Hom\n                CLUSTER_NAME: Cluster k8s Hom\n                CREDENTIALS_ID: token-k8s-hom\n                SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608194480550.75,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_cdcbf74eb14f46caa83a3348f71876b0","parentId":"fld_e94bbe93d60249d09aa0a4723a91a7f4","modified":1610465504404,"created":1610465472600,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/frontdeploydev:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1609069980306,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_e94bbe93d60249d09aa0a4723a91a7f4","parentId":"fld_035042f33c6f46928edf0ad6028f36f4","modified":1610465472588,"created":1610465472588,"name":"frontdeploydev","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237712912.5,"_type":"request_group"},{"_id":"req_a993011fedf149ac9f090b34c39c2bbe","parentId":"fld_e94bbe93d60249d09aa0a4723a91a7f4","modified":1610465484954,"created":1610465472608,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: scm\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n         - stage:\n             id: test\n             name: Test - ToDo\n             block: |\n               echo \"Test\"\n         - stage:\n             id: sonarqube\n             name: SonarQube - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: dockerbuild\n             name: Docker Build\n             block: |\n              dir(\"templates-deployment\") {\n                git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n              }\n              sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n              sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n              def docker_tool = tool name: \"docker\"\n              withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n               }\n         - \"deployk8sfront:\":\n            args:\n              SITE: Hom\n              CLUSTER_NAME: Cluster k8s Hom\n              CREDENTIALS_ID: token-k8s-hom\n              SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608486313802.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_24bce0e438344f8f86c71ca7d04295d4","parentId":"fld_e94bbe93d60249d09aa0a4723a91a7f4","modified":1610465596921,"created":1610465472611,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: scm\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                   git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: dockerbuild\n              name: Docker Build\n              block: |\n                dir(\"templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n                sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n                sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n                def docker_tool = tool name: \"docker\"\n                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                  sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                  sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                  sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                 }\n          - \"deployk8sfront:\":\n              args:\n                SITE: Dev\n                CLUSTER_NAME: ClusterDevPulse\n                CREDENTIALS_ID: token-k8s-dev\n                SERVER_URL: https://k8s-lb.dev.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608194480550.75,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_2ec124c047b14ccb81e4d87c904bd3a9","parentId":"fld_2670061c23c941a9b427d48d60c9325f","modified":1610465569182,"created":1610465552839,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/frontdeploymaster:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1609069980306,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_2670061c23c941a9b427d48d60c9325f","parentId":"fld_035042f33c6f46928edf0ad6028f36f4","modified":1610465552831,"created":1610465552831,"name":"frontdeploymaster","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237711653.25,"_type":"request_group"},{"_id":"req_1110b79bad3e4896950ceeb32e2780c9","parentId":"fld_2670061c23c941a9b427d48d60c9325f","modified":1610465552852,"created":1610465552852,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploydev\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: scm\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n         - stage:\n             id: test\n             name: Test - ToDo\n             block: |\n               echo \"Test\"\n         - stage:\n             id: sonarqube\n             name: SonarQube - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: dockerbuild\n             name: Docker Build\n             block: |\n              dir(\"templates-deployment\") {\n                git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n              }\n              sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n              sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n              def docker_tool = tool name: \"docker\"\n              withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n               }\n         - \"deployk8sfront:\":\n            args:\n              SITE: Hom\n              CLUSTER_NAME: Cluster k8s Hom\n              CREDENTIALS_ID: token-k8s-hom\n              SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608486313802.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_a52cf97fcf3d46adadb27cb39aabe146","parentId":"fld_2670061c23c941a9b427d48d60c9325f","modified":1610465635051,"created":1610465552854,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploymaster\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n        children:\n          - stage:\n              id: scm\n              name: SCM\n              block: |\n                git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n                dir(\"configs-templates-deployment\") {\n                   git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n          - stage:\n              id: dockerbuild\n              name: Docker Build\n              block: |\n                dir(\"templates-deployment\") {\n                  git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n                }\n                sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n                sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n                def docker_tool = tool name: \"docker\"\n                withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                  sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                  sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                  sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                  sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                 }\n          - \"deployk8sfront:\":\n              args:\n                SITE: 1\n                CLUSTER_NAME: ClusterMasterPulseSite01\n                CREDENTIALS_ID: 0084561c-977f-4dc0-ae41-48075a2507ca\n                SERVER_URL: https://k8s-lb.mateus:6443\n          - \"deployk8sfront:\":\n              args:\n                SITE: 2\n                CLUSTER_NAME: ClusterMasterPulseSite02\n                CREDENTIALS_ID: token_k8s_site2\n                SERVER_URL: https://k8s-lb-s2.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608194480550.75,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b6645ca28c1e4dbf9b38b558157f9376","parentId":"fld_3f7689f53b8e404da1d1041d322daeca","modified":1610465716078,"created":1610465698822,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/deployk8sfront:","name":"get","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true}],"authentication":{},"metaSortKey":-1609069980306,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_3f7689f53b8e404da1d1041d322daeca","parentId":"fld_035042f33c6f46928edf0ad6028f36f4","modified":1610465789521,"created":1610465698821,"name":"deployk8sfront","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1610237715481,"_type":"request_group"},{"_id":"req_a9b07da2434f4eaf8aed0d8fe2534a4e","parentId":"fld_3f7689f53b8e404da1d1041d322daeca","modified":1610465698823,"created":1610465698823,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/simulate","name":"simulate","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"template:\n  id: frontdeploystaging\n  tag: node\n  layout: |\n    {{tag}}{{#args.TO_SLAVE}}(\"{{args.SLAVE_NODE}}\"){{/args.TO_SLAVE}} {\n      {{#pipeline}}{{& .}}{{/pipeline}}\n    }\n  pipeline:\n    - \"notification:\":\n       children:\n         - stage:\n             id: scm\n             name: SCM\n             block: |\n               git(branch: \"{{args.BRANCH}}\", credentialsId: 'JenkinsUserInGitLab', url: \"{{args.GIT_URL}}\")\n         - stage:\n             id: test\n             name: Test - ToDo\n             block: |\n               echo \"Test\"\n         - stage:\n             id: sonarqube\n             name: SonarQube - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: qualitygate\n             name: Quality Gate - ToDo\n             block: |\n               echo \"SonarQube\"\n         - stage:\n             id: dockerbuild\n             name: Docker Build\n             block: |\n              dir(\"templates-deployment\") {\n                git(branch: 'master', credentialsId: 'JenkinsUserInGitLab', url: 'git@gitlab.mateus:infra/configs-templates-deployment.git')\n              }\n              sh \"cp -r templates-deployment/conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.SQUAD}}/{{args.ARTIFACT}}/.  .\"\n              sh \"cp -r templates-deployment/docker/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/. .\"\n              def docker_tool = tool name: \"docker\"\n              withEnv([\"PATH=$PATH:${docker_tool}/bin\"]) {\n                sh \"docker build -t {{args.ARTIFACT}} --force-rm .\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker tag {{args.ARTIFACT}} rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:latest\"\n                sh \"docker push rdocker.mateus:5001/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n               }\n         - \"deployk8sfront:\":\n            args:\n              SITE: Hom\n              CLUSTER_NAME: Cluster k8s Hom\n              CREDENTIALS_ID: token-k8s-hom\n              SERVER_URL: https://k8s-lb.hom.infra.mateus:6443\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608486313802.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_25f657a1476b4087a440499c6944c790","parentId":"fld_3f7689f53b8e404da1d1041d322daeca","modified":1611374128279,"created":1610465698824,"url":"http://wsengenharia.mateus/engenharia/api/engenharia-rest-jenkins-support/","name":"update","description":"","method":"POST","body":{"mimeType":"text/yaml","text":"stage:\n  id: deployk8sfront\n  name: Deploy to Kubernetes {{args.SITE}}\n  block: |\n    def namespace = \"front-pro\"\n    def dockerRegistry = 'rdocker.mateus:5001'\n    if(\"{{args.BRANCH}}\" == \"staging\") {\n        namespace = 'front-hom'\n        dockerRegistry = \"registry.hom.infra.mateus\"\n    }\n    if(\"{{args.BRANCH}}\" == \"dev\") {\n        namespace = 'front-dev'\n    }\n    def image_name = \"${dockerRegistry}/ithappens/{{args.ARTIFACT}}:${BUILD_NUMBER}-{{args.BRANCH}}\"\n    def deployment_path = \"${WORKSPACE}/templates-deployment/deployments\"\n    def groovyFile = \"conf/front/{{args.PROJECT_TYPE}}/{{args.BRANCH}}/{{args.MODULO}}/{{args.ARTIFACT}}.groovy\"\n    withEnv([ \"NAME_DEPLOYMENT={{args.ARTIFACT}}\", \"IMAGE_NAME=${image_name}\" ]) {\n      withKubeConfig(\n          caCertificate: '', clusterName: '{{args.CLUSTER_NAME}}',\n          contextName: 'kubernetes-admin@kubernetes', credentialsId: '{{args.CREDENTIALS_ID}}',\n          namespace: '', serverUrl: '{{args.SERVER_URL}}',\n        ) {\n          load \"{{args.ARTIFACT}}.groovy\"\n          sh \"cat ${deployment_path}/front/deployment-default.yml | envsubst > deployment.yml\"\n          sh \"kubectl --namespace=${namespace} apply -f deployment.yml\"\n          sleep 30\n          sh \"kubectl rollout status deploy {{args.ARTIFACT}} -n ${namespace}\"\n        }\n    }\n"},"parameters":[],"headers":[{"name":"accept","value":"application/yaml","description":"","id":"pair_1ee2c8cd65264f61a25d81174ba30ba2","disabled":false},{"name":"accept","value":"text/groovy","description":"","id":"pair_bcd0600bf20e456fac459573ffcad038","disabled":true},{"name":"Content-Type","value":"text/yaml","id":"pair_d1ea04f64d1d4df68b2b834d1766372e"}],"authentication":{},"metaSortKey":-1608194480550.75,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":true,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_09abc286394bf7a7f6020ebd2b465685f69b2ca4","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1605578022606,"created":1605578022606,"name":"Base Environment","data":{},"dataPropertyOrder":null,"color":null,"isPrivate":false,"metaSortKey":1605578022606,"_type":"environment"},{"_id":"jar_09abc286394bf7a7f6020ebd2b465685f69b2ca4","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1614310070501,"created":1605578022608,"name":"Default Jar","cookies":[{"key":"1P_JAR","value":"2020-11-17-02","expires":"2020-12-17T02:00:39.000Z","domain":"google.com","path":"/","secure":true,"hostOnly":false,"creation":"2020-11-17T02:00:39.965Z","lastAccessed":"2020-11-17T02:00:39.965Z","id":"34879442435862096"},{"key":"NID","value":"204=gopmNSXFKRD0V_qXST58-AGapgI1aeYc8fBERz4XtduGEyj6qT9ZZceB3kc7XdGC_vN7OPY8jQmS8OxTze4eiG2tuilNHqHXRpqmqqqAPTsqVMUxZB38TmL2xfWQMRU8RTXEwb9dSyYhOP2EyiDTdizvUIF18cThPB0kZ6RRudc","expires":"2021-05-19T02:00:39.000Z","domain":"google.com","path":"/","httpOnly":true,"hostOnly":false,"creation":"2020-11-17T02:00:39.970Z","lastAccessed":"2020-11-17T02:00:39.970Z","id":"4692183455422947"},{"key":"JSESSIONID.910b434c","value":"node01jwajhb2sox9g14akjxbcfyfia248.node0","domain":"jenkins.hom.infra.mateus","path":"/","httpOnly":true,"hostOnly":true,"creation":"2021-02-11T23:41:08.199Z","lastAccessed":"2021-02-11T23:41:08.199Z","id":"14168739554877385"},{"key":"remember-me","expires":"1970-01-01T00:00:00.000Z","maxAge":0,"domain":"jenkins.hom.infra.mateus","path":"/","hostOnly":true,"creation":"2021-02-11T23:54:00.841Z","lastAccessed":"2021-02-11T23:54:00.841Z","id":"07890299354360186"},{"key":"JSESSIONID.61ae5b7c","value":"node010bokfva19f1g153wjr7m7355s16.node0","domain":"localhost","path":"/","httpOnly":true,"hostOnly":true,"creation":"2021-02-14T04:28:21.999Z","lastAccessed":"2021-02-14T04:28:21.999Z","id":"5720161954393737"},{"key":"JSESSIONID.8273464b","value":"node01kpmreuui8xop1nma7yxna6lmg0.node0","domain":"localhost","path":"/","httpOnly":true,"hostOnly":true,"creation":"2021-02-17T00:27:39.599Z","lastAccessed":"2021-02-17T00:27:39.599Z","id":"1589390854008137"},{"key":"JSESSIONID.f13eb942","value":"node0pd5d8pbgw4kumnsliajby6tv8.node0","domain":"localhost","path":"/","httpOnly":true,"hostOnly":true,"creation":"2021-02-19T04:13:48.333Z","lastAccessed":"2021-02-19T04:13:48.333Z","id":"016965477974906662"},{"key":"remember-me","expires":"1970-01-01T00:00:00.000Z","maxAge":0,"domain":"jenkins.dev.infra.mateus","path":"/","hostOnly":true,"creation":"2021-02-26T03:26:26.897Z","lastAccessed":"2021-02-26T03:27:50.501Z","id":"09224512962569609"},{"key":"JSESSIONID.f17a0b14","value":"node01qw2wvwub08tdj54r9nujeceo283.node0","domain":"jenkins.dev.infra.mateus","path":"/","httpOnly":true,"hostOnly":true,"creation":"2021-02-26T03:26:39.350Z","lastAccessed":"2021-02-26T03:26:39.350Z","id":"09664404926134984"}],"_type":"cookie_jar"},{"_id":"spc_549c9c3890fc4f64a9f6ab562e7e9fdf","parentId":"wrk_4f1c4bd6fe924ccca1251c9e8c9ef605","modified":1605578022574,"created":1605578022574,"fileName":"Insomnia","contents":"","contentType":"yaml","_type":"api_spec"},{"_id":"env_509f5e2fb34d4b1dbf467d25f9d776bd","parentId":"env_09abc286394bf7a7f6020ebd2b465685f69b2ca4","modified":1605578493417,"created":1605578158879,"name":"Zabbix Manager","data":{"base_url":"127.0.0.1:3000"},"dataPropertyOrder":{"&":["base_url"]},"color":null,"isPrivate":false,"metaSortKey":1605578158880,"_type":"environment"},{"_id":"env_58cbd1f50acb79230769b98419161bdd085ffc12","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1616794114379,"created":1615658934228,"name":"Base Environment","data":{"dns":"localhost:8080"},"dataPropertyOrder":{"&":["dns"]},"color":null,"isPrivate":false,"metaSortKey":1615658934228,"_type":"environment"},{"_id":"jar_58cbd1f50acb79230769b98419161bdd085ffc12","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1616107450314,"created":1615658934230,"name":"Default Jar","cookies":[{"key":"JSESSIONID.f17a0b14","value":"node04miwd2i3kpmufklfsd2tmc4l506.node0","domain":"jenkins.dev.infra.mateus","path":"/","httpOnly":true,"hostOnly":true,"creation":"2021-03-18T21:53:03.274Z","lastAccessed":"2021-03-18T22:44:10.314Z","id":"6235036731080927"}],"_type":"cookie_jar"},{"_id":"spc_17959e846cd24baf8c468d315ae7e0a9","parentId":"wrk_3a58fa38509c4d2e87bd5cef2532d5f9","modified":1615658934202,"created":1615658934202,"fileName":"Devops Rest Services Manager","contents":"","contentType":"yaml","_type":"api_spec"},{"_id":"env_9de96a3485556aee284bc5f50a863776a5703f8d","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616991154454,"created":1616794145559,"name":"Base Environment","data":{"dns":"localhost:3001","waproject_authToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkB3YXByb2plY3QuY29tLmJyIiwiZmlyc3ROYW1lIjoiV2FQcm9qZWN0IiwibGFzdE5hbWUiOiJBZG1pbiIsInJvbGVzIjpbInN5c0FkbWluIl0sInR5cGUiOjAsImV4cCI6MTYxNzAxOTk0NiwiaWF0IjoxNjE2OTkxMTQ2fQ.pLfHsN7_lWYJFASYxKtbWiMiS5PKuwqKNE4KIpn0nv4"},"dataPropertyOrder":{"&":["dns","waproject_authToken"]},"color":null,"isPrivate":false,"metaSortKey":1616794145559,"_type":"environment"},{"_id":"jar_9de96a3485556aee284bc5f50a863776a5703f8d","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616794145561,"created":1616794145561,"name":"Default Jar","cookies":[],"_type":"cookie_jar"},{"_id":"spc_7f3708f945554c2fb04625b40e8a6f09","parentId":"wrk_483fc50db6014661b17fc1c3a3a83fcf","modified":1616794145364,"created":1616794145364,"fileName":"Wa Project","contents":"","contentType":"yaml","_type":"api_spec"}]}